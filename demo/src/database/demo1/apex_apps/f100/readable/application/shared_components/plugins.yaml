---
- # ====== Plugin: Copy of Content Row =========================
  id: 27061906340325978302
  identification: 
    name: Copy of Content Row
    internal-name: THEME_42$CONTENT_ROW77208
    theme: Universal Theme # 42
    type: Template Component

  advanced: 
    quick-pick: true

  subscription: 
    version-number: 37167710487712

  templates: 
    available-as: 
    - Single (Partial)
    - Multiple (Report)
    partial: |2
        <div class="t-ContentRow-wrap">
      
            <div class="t-ContentRow-badge #BADGE_COL_WIDTH!ATTR#">
              {with/}
                LABEL:=
                VALUE:=
                SIZE:=#BADGE_SIZE#
                SHAPE:=#BADGE_SHAPE#
              {apply THEME$BADGE/}
            </div>
      
          <div class="t-ContentRow-body">
            <div class="t-ContentRow-content">
              <div class="t-ContentRow-overline">#OVERLINE!RAW#</div>
              <h3 class="t-ContentRow-title"><a href="#TITLE_LINK!ATTR#" #TITLE_LINK_ATTR!RAW#>#TITLE!RAW#</a></h3>
              <div class="t-ContentRow-description">#DESCRIPTION!RAW#</div>
            </div>
      
          </div>
        </div>
      
      
    report-body: '<ul class="t-ContentRow{if ?STYLE/} #STYLE!ATTR#{endif/}{if ?ALIGN/} #ALIGN!ATTR#{endif/}{if APPLY_THEME_COLORS/} u-colors{endif/} #APEX$COMPONENT_CSS_CLASSES#">#APEX$ROWS#</ul>'
    report-row: '<li class="t-ContentRow-item{if ?ITEM_CLASSES/} #ITEM_CLASSES#{endif/}" #APEX$ROW_IDENTIFICATION#>#APEX$PARTIAL#</li>'
    translate-templates: false
    default-escape-mode: HTML
    number-of-lazy-loading-skeletons: 3

  callbacks: 
    api-interface: Function

  custom-attributes: 
    substitute-attribute-values: true

  information: 
    help-text: Display content in a formatted row with a title, description, and more. Supports avatars and badges. Available for a single row or as a report with multiple rows.

  attribute-groups: 
  - # ====== Attribute Group: Badge ==============================
    id: 34331181386778426626
    identification: 
      name: Badge
      sequence: 20

  - # ====== Attribute Group: Avatar =============================
    id: 34331181941790426627
    identification: 
      name: Avatar
      sequence: 10

  custom-attributes: 
  - # ====== Custom Attribute: Overline ==========================
    id: 27061907463311978322
    identification: 
      static-id: OVERLINE
      attribute: 1
      name: Overline
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      escape-mode: Raw

    help: 
      help-text: Enter some text and/or column substitution strings to display at the top of each row above the title and description.

    examples: 
      demo-value: Category

  - # ====== Custom Attribute: Title =============================
    id: 27061907933279978325
    identification: 
      static-id: TITLE
      attribute: 2
      name: Title
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      escape-mode: Raw

    help: 
      help-text: Enter some text and/or column substitution strings to be used as the title in each row.

    examples: 
      demo-value: Lorem ipsum dolor sit amet

  - # ====== Custom Attribute: Description =======================
    id: 27061908449993978326
    identification: 
      static-id: DESCRIPTION
      attribute: 3
      name: Description
      scope: Component

    layout: 
      sequence: 30

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      escape-mode: Raw

    help: 
      help-text: Enter some text and/or column substitution strings to be used as the description in each row.

    examples: 
      demo-value: Nunc sit amet nunc quis magna ornare suscipit. Etiam aliquet maximus sapien, at sagittis sem gravida nec.

  - # ====== Custom Attribute: Miscellaneous =====================
    id: 27061908893375978327
    identification: 
      static-id: MISC
      attribute: 4
      name: Miscellaneous
      scope: Component

    layout: 
      sequence: 40

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      escape-mode: Raw

    help: 
      help-text: Enter miscellaneous content such as additional text and/or column substitution strings to display in each row.

  - # ====== Custom Attribute: Display Avatar ====================
    id: 27061909407785978328
    identification: 
      static-id: DISPLAY_AVATAR
      attribute: 5
      name: Display Avatar
      scope: Component

    layout: 
      sequence: 50

    settings: 
      type: Yes/No
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: N

    help: 
      help-text: Specify whether to display or hide the avatar for each row. When set to Yes, an avatar will be displayed with the assigned image, icon, or initials. When set to No, no avatar will be displayed.

  - # ====== Custom Attribute: Display Badge =====================
    id: 27061909938564978328
    identification: 
      static-id: DISPLAY_BADGE
      attribute: 6
      name: Display Badge
      scope: Component

    layout: 
      sequence: 60

    settings: 
      type: Yes/No
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: N

    help: 
      help-text: Specify whether to display or hide the badge for each row. When set to Yes, a badge will be displayed in each row. When set to No, no badge will be displayed.

  - # ====== Custom Attribute: Type ==============================
    id: 27061910446126978328
    identification: 
      static-id: AVATAR_TYPE
      attribute: 7
      name: Type
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 70

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      escape-mode: HTML

    default: 
      value: icon

    condition: 
      depending-on-custom-attribute: Display Avatar # 27061909407785978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select the type of content that will be displayed in the avatar.

    examples: 
      demo-value: icon

    entries: 
    - # ====== Entry: Image ========================================
      id: 27061910963649978329
      entry: 
        sequence: 10
        display: Image
        return: image

      advanced: 
        quick-pick: false

    - # ====== Entry: Initials =====================================
      id: 27061911505303978332
      entry: 
        sequence: 20
        display: Initials
        return: initials

      advanced: 
        quick-pick: false

    - # ====== Entry: Icon =========================================
      id: 27061912116254978332
      entry: 
        sequence: 30
        display: Icon
        return: icon

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Image =============================
    id: 27061912699333978333
    identification: 
      static-id: AVATAR_IMAGE
      attribute: 8
      name: Image
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 80

    settings: 
      type: Media
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Type # 27061910446126978328
      depending-on-condition-type: equal to
      expression: image
      always-evaluate: true

    help: 
      help-text: |
        <p>Use the Media popup dialog to select a source for the avatar image.</p>
        
        <p>Available options include:
        <ul>
        <li>URL</li>
        <li>BLOB Column</li>
        <li>URL Column</li>
        </ul>
        </p>

  - # ====== Custom Attribute: Image Description =================
    id: 27061913208645978333
    identification: 
      static-id: AVATAR_IMAGE_ALT
      attribute: 9
      name: Image Description
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 90

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Image # 27061912699333978333
      depending-on-condition-type: NOT_NULL
      always-evaluate: true

    help: 
      help-text: Enter a short description of the image or select a source column from the quick pick options. This will be used as alt text for the avatar image.

  - # ====== Custom Attribute: Initials ==========================
    id: 27061913732088978334
    identification: 
      static-id: AVATAR_INITIALS
      attribute: 10
      name: Initials
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 100

    settings: 
      type: Session State Value
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2
      escape-mode: Strip HTML

    condition: 
      depending-on-custom-attribute: Type # 27061910446126978328
      depending-on-condition-type: equal to
      expression: initials
      always-evaluate: true

    help: 
      help-text: Select the source column to be displayed within each avatar. Only varchar2 data types are supported.

  - # ====== Custom Attribute: Icon ==============================
    id: 27061914226327978334
    identification: 
      static-id: AVATAR_ICON
      attribute: 11
      name: Icon
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 110

    settings: 
      type: Icon
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: fa-user

    condition: 
      depending-on-custom-attribute: Type # 27061910446126978328
      depending-on-condition-type: equal to
      expression: icon
      always-evaluate: true

    help: 
      help-text: Enter an icon class or use the Pick Icon dialog to select the icon you want to add to display in the avatar.

  - # ====== Custom Attribute: Shape =============================
    id: 27061914699702978334
    identification: 
      static-id: AVATAR_SHAPE
      attribute: 12
      name: Shape
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 120

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: t-Avatar--rounded

    condition: 
      depending-on-custom-attribute: Display Avatar # 27061909407785978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select the shape of the avatar. Default inherits the shape set by the containing template.

    entries: 
    - # ====== Entry: Rounded ======================================
      id: 27061915229439978335
      entry: 
        sequence: 10
        display: Rounded
        return: t-Avatar--rounded

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed within a square with rounded corners.

    - # ====== Entry: Circular =====================================
      id: 27061915793997978335
      entry: 
        sequence: 20
        display: Circular
        return: t-Avatar--circle

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed within a circular shape.

    - # ====== Entry: Square =======================================
      id: 27061916467523978336
      entry: 
        sequence: 30
        display: Square
        return: t-Avatar--square

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed within a square shape.

    - # ====== Entry: No Shape =====================================
      id: 27061917008887978336
      entry: 
        sequence: 40
        display: No Shape
        return: t-Avatar--noShape

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed inline without a containing shape.

  - # ====== Custom Attribute: Label =============================
    id: 27061917668120978337
    identification: 
      static-id: BADGE_LABEL
      attribute: 13
      name: Label
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 130

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: true
      translatable: true
      escape-mode: HTML

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Enter a value for the badge label or select a source column from the quick pick options.

  - # ====== Custom Attribute: Value =============================
    id: 27061918099740978337
    identification: 
      static-id: BADGE_VALUE
      attribute: 14
      name: Value
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 140

    settings: 
      type: Session State Value
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2
      - Number
      - Date
      - Interval Year to Month
      - Interval Day to Second
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select a source column for the badge value.

  - # ====== Custom Attribute: State =============================
    id: 27061918659459978337
    identification: 
      static-id: BADGE_STATE
      attribute: 15
      name: State
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 150

    settings: 
      type: Session State Value
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      data-types: 
      - Varchar2
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select the source column for the state of the badge. Substitute column value with "danger", "warning", "success" or "info" for default styling.

  - # ====== Custom Attribute: Icon ==============================
    id: 27061919152154978338
    identification: 
      static-id: BADGE_ICON
      attribute: 16
      name: Icon
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 160

    settings: 
      type: Icon
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Enter an icon class or use the Pick Icon dialog to select the icon you want to add to display in the badge.

  - # ====== Custom Attribute: Display Label =====================
    id: 27061919665795978339
    identification: 
      static-id: BADGE_LABEL_DISPLAY
      attribute: 17
      name: Display Label
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 170

    settings: 
      type: Yes/No
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: N

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Specify whether to display or hide the badge label. When set to Yes, the badge label will be displayed in addition to the badge value. When set to No, only the badge value will be displayed.

  - # ====== Custom Attribute: Style =============================
    id: 27061920240277978340
    identification: 
      static-id: BADGE_STYLE
      attribute: 18
      name: Style
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 180

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Default
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select the badge style. Default inherits the style set by the containing template.

    entries: 
    - # ====== Entry: Subtle =======================================
      id: 27061920761058978340
      entry: 
        sequence: 10
        display: Subtle
        return: t-Badge--subtle

      advanced: 
        quick-pick: false

    - # ====== Entry: Outline ======================================
      id: 27061921455905978341
      entry: 
        sequence: 20
        display: Outline
        return: t-Badge--outline

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Shape =============================
    id: 27061922059873978342
    identification: 
      static-id: BADGE_SHAPE
      attribute: 19
      name: Shape
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 190

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Default
      escape-mode: HTML

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Select the shape of the badge. Default inherits the shape set by the containing template.

    entries: 
    - # ====== Entry: Rounded ======================================
      id: 27061922526880978342
      entry: 
        sequence: 10
        display: Rounded
        return: t-Badge--rounded

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed with rounded corners.

    - # ====== Entry: Circular =====================================
      id: 27061923173571978343
      entry: 
        sequence: 20
        display: Circular
        return: t-Badge--circle

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed with circular edges.

    - # ====== Entry: Square =======================================
      id: 27061923741452978343
      entry: 
        sequence: 30
        display: Square
        return: t-Badge--square

      advanced: 
        quick-pick: false

      help: 
        help-text: Displayed with squared edges.

  - # ====== Custom Attribute: Size ==============================
    id: 27061924323336978344
    identification: 
      static-id: AVATAR_SIZE
      attribute: 20
      name: Size
      scope: Component

    layout: 
      attribute-group: Avatar # 34331181941790426627
      sequence: 200

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Default
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Avatar # 27061909407785978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Set the size of the avatar. The default inherits the sizing set by the containing template.

    entries: 
    - # ====== Entry: Extra Extra Small ============================
      id: 27061924836544978344
      entry: 
        sequence: 10
        display: Extra Extra Small
        return: t-Avatar--xxs

      advanced: 
        quick-pick: false

    - # ====== Entry: Extra Small ==================================
      id: 27061925431711978344
      entry: 
        sequence: 20
        display: Extra Small
        return: t-Avatar--xs

      advanced: 
        quick-pick: false

    - # ====== Entry: Small ========================================
      id: 27061926046233978345
      entry: 
        sequence: 30
        display: Small
        return: t-Avatar--sm

      advanced: 
        quick-pick: false

    - # ====== Entry: Medium =======================================
      id: 27061926672225978346
      entry: 
        sequence: 40
        display: Medium
        return: t-Avatar--md

      advanced: 
        quick-pick: false

    - # ====== Entry: Large ========================================
      id: 27061927219026978346
      entry: 
        sequence: 50
        display: Large
        return: t-Avatar--lg

      advanced: 
        quick-pick: false

    - # ====== Entry: Extra Large ==================================
      id: 27061927866226978347
      entry: 
        sequence: 60
        display: Extra Large
        return: t-Avatar--xl

      advanced: 
        quick-pick: false

    - # ====== Entry: Extra Extra Large ============================
      id: 27061928411701978347
      entry: 
        sequence: 70
        display: Extra Extra Large
        return: t-Avatar--xxl

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Size ==============================
    id: 27061929030303978347
    identification: 
      static-id: BADGE_SIZE
      attribute: 21
      name: Size
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 210

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Default
      escape-mode: HTML Attribute

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Set the size of the badge. The default inherits the sizing set by the containing template.

    entries: 
    - # ====== Entry: Small ========================================
      id: 27061929492002978348
      entry: 
        sequence: 10
        display: Small
        return: t-Badge--sm

      advanced: 
        quick-pick: false

    - # ====== Entry: Medium =======================================
      id: 27061930085585978349
      entry: 
        sequence: 20
        display: Medium
        return: t-Badge--md

      advanced: 
        quick-pick: false

    - # ====== Entry: Large ========================================
      id: 27061930729284978350
      entry: 
        sequence: 30
        display: Large
        return: t-Badge--lg

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Column Width ======================
    id: 27061931319640978350
    identification: 
      static-id: BADGE_COL_WIDTH
      attribute: 22
      name: Column Width
      scope: Component

    layout: 
      attribute-group: Badge # 34331181386778426626
      sequence: 220

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      lov-null-text: Default
      escape-mode: HTML Attribute

    default: 
      value: t-ContentRow-badge--md

    condition: 
      depending-on-custom-attribute: Display Badge # 27061909938564978328
      depending-on-condition-type: equal to
      expression: Y
      always-evaluate: true

    help: 
      help-text: Set the width of the content row columns. Default width is medium.

    entries: 
    - # ====== Entry: Small ========================================
      id: 27061931801041978351
      entry: 
        sequence: 10
        display: Small
        return: t-ContentRow-badge--sm

      advanced: 
        quick-pick: false

    - # ====== Entry: Medium =======================================
      id: 27061932413549978352
      entry: 
        sequence: 20
        display: Medium
        return: t-ContentRow-badge--md

      advanced: 
        quick-pick: false

    - # ====== Entry: Large ========================================
      id: 27061933034951978352
      entry: 
        sequence: 30
        display: Large
        return: t-ContentRow-badge--lg

      advanced: 
        quick-pick: false

    - # ====== Entry: Auto =========================================
      id: 27061933658666978353
      entry: 
        sequence: 40
        display: Auto
        return: t-ContentRow-badge--auto

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Apply Theme Colors ================
    id: 27061934197284978354
    identification: 
      static-id: APPLY_THEME_COLORS
      attribute: 23
      name: Apply Theme Colors
      scope: Report

    layout: 
      sequence: 230

    settings: 
      type: Yes/No
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      escape-mode: HTML Attribute

    default: 
      value: Y

    help: 
      help-text: Specify whether to use the Universal Theme colors for avatar and badge row items. When set to Yes, the u-colors class will be applied to each row. When set to No, a default color will be used instead.

  action-positions: 
  - # ====== Action Position: Avatar Link ========================
    id: 29668177792082059884
    identification: 
      name: Avatar Link
      static-id: AVATAR_LINK
      sequence: 10

    advanced: 
      quick-pick: false

    settings: 
      type: Link

  - # ====== Action Position: Primary Actions ====================
    id: 29668179125472073741
    identification: 
      name: Primary Actions
      static-id: PRIMARY_ACTIONS
      sequence: 20

    advanced: 
      quick-pick: false

    settings: 
      type: Template

  - # ====== Action Position: Title Link =========================
    id: 29693800895117993160
    identification: 
      name: Title Link
      static-id: TITLE_LINK
      sequence: 30

    advanced: 
      quick-pick: false

    settings: 
      type: Link

  - # ====== Action Position: Full Row Link ======================
    id: 29694480195848076264
    identification: 
      name: Full Row Link
      static-id: FULL_ROW_LINK
      sequence: 40

    advanced: 
      quick-pick: false

    settings: 
      type: Link

  action-templates: 
  - # ====== Action Template: Button =============================
    id: 29668179727149104870
    identification: 
      name: Button
      type: Button

    template: 
      action-template: |
        {with/}
        LINK_URL:=#LINK_URL#
        LINK_ATTR:=#LINK_ATTR!RAW#
        LABEL:=#LABEL!RAW#
        ICON_CLASSES:=#ICON_CLASSES#
        CSS_CLASSES:=#CSS_CLASSES#
        IS_HOT:=#IS_HOT#
        IS_ICON_ONLY:=#IS_ICON_ONLY#
        IS_DISABLED:=#IS_DISABLED#
        {apply THEME$BUTTON/}

    advanced: 
      translatable: false

  - # ====== Action Template: Menu ===============================
    id: 29668180986669109018
    identification: 
      name: Menu
      type: Menu

    template: 
      action-template: |
        {with/}
        MENU_ID:=#MENU_ID#
        LABEL:=#LABEL#
        ICON_CLASSES:=#ICON_CLASSES#
        CSS_CLASSES:=#CSS_CLASSES#
        IS_HOT:=#IS_HOT#
        IS_DISABLED:=#IS_DISABLED#
        IS_ICON_ONLY:=#IS_ICON_ONLY#
        {apply THEME$BUTTON/}
        #MENU#

    advanced: 
      translatable: false

- # ====== Plugin: Sample Apps Footer ==========================
  id: 37059310994550515750
  identification: 
    name: Sample Apps Footer
    internal-name: COM.ORACLE.APEX.SAMPLEAPPFOOTER
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function render (   p_region in apex_plugin.t_region,
                          p_plugin in apex_plugin.t_plugin,
                          p_is_printer_friendly in boolean )
              return apex_plugin.t_region_render_result is
      begin
          sys.htp.p('<div class="t-SocialFooter">');
          sys.htp.p('    <div class="row">');
          sys.htp.p('        <div class="col col-2 alpha">');
          sys.htp.p('            <a href="https://forums.oracle.com/forums/forum.jspa?forumID=137" target="_blank">');
          sys.htp.p('                        <span class="t-Icon fa fa-comments"></span>');
          sys.htp.p('                        Oracle OTN Forums');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('        <div class="col col-2">');
          sys.htp.p('            <a href="http://www.linkedin.com/skills/skill/Oracle_Application_Express" target="_blank">');
          sys.htp.p('                        <span class="t-Icon fa fa-linkedin-square"></span>');
          sys.htp.p('                        Connect on LinkedIn');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('        <div class="col col-2">');
          sys.htp.p('            <a href="http://twitter.com/oracleapexnews" target="_blank">');
          sys.htp.p('                        <span class="t-Icon fa fa-twitter"></span>');
          sys.htp.p('                        Follow us on Twitter');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('        <div class="col col-2">');
          sys.htp.p('            <a href="https://cloud.oracle.com/" target="_blank">');
          sys.htp.p('                        <span class="t-Icon fa fa-cloud"></span>');
          sys.htp.p('                        Oracle Database Cloud Service');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('        <div class="col col-2">');
          sys.htp.p('            <a href="http://apex.oracle.com/" target="_blank">');
          sys.htp.p('                        <span class="t-Icon a-Icon sample-apex"></span>');
          sys.htp.p('                        apex.oracle.com');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('        <div class="col col-2 omega">');
          sys.htp.p('            <a href="http://www.oracle.com/technetwork/developer-tools/apex/overview/index.html" target="_blank">');
          sys.htp.p('                        <span class="t-Icon a-Icon sample-otn"></span>');
          sys.htp.p('                        APEX on OTN');
          sys.htp.p('            </a>');
          sys.htp.p('        </div>');
          sys.htp.p('    </div>');
          sys.htp.p('</div>');
      
          return null;
      end render;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: render

  custom-attributes: 
    substitute-attribute-values: true

  information: 
    version: 5.0.1
    help-text: |
      <p>This region plug-in is used to display a custom footer at the bottom of pages with large icons for navigating to other sites such as twitter and linkedin.</p>
      <p>Note: This plug-in should be customized to meet your specific requirements, rather than used as is.</p>

- # ====== Plugin: Badge List ==================================
  id: 37158135291979934270
  identification: 
    name: Badge List
    internal-name: COM.ORACLE.APEX.BADGE_LIST
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function render (
          p_region              in apex_plugin.t_region,
          p_plugin              in apex_plugin.t_plugin,
          p_is_printer_friendly in boolean )
          return apex_plugin.t_region_render_result is
      begin
          apex_javascript.add_onload_code (
              p_code => 'com_oracle_apex_badgelist('||
                  apex_javascript.add_value(p_region.static_id)||
                  '{'||
                      -- why is this attribute needed if is not used?
                      apex_javascript.add_attribute(
                          'pageItems', 
                          apex_plugin_util.page_item_names_to_jquery(p_region.ajax_items_to_submit)
                      )||
                      apex_javascript.add_attribute(
                          'ajaxIdentifier', 
                          apex_plugin.get_ajax_identifier, 
                          false, 
                          false
                      )||
                  '}'||
              ');'
          );
      --    CSS for Big Value List
      --    apex_css.add_file (
      --        p_name      => 'com_oracle_apex_badge_list',
      --        p_directory => p_plugin.file_prefix );
          -- Start the list
      
      
          -- It's time to emit the selected rows
      
      
          return null;
      
      end render;
      
      function ajax (
          p_region in apex_plugin.t_region,
          p_plugin in apex_plugin.t_plugin
      ) return apex_plugin.t_region_ajax_result 
      is
          -- It's better to have named variables instead of using the generic ones,
          -- makes the code more readable. We are using the same defaults for the
          -- required attributes as in the plug-in attribute configuration, because
          -- they can still be null. Keep them in sync!
          c_label_column      constant varchar2(255) := p_region.attribute_01;
          c_value_column      constant varchar2(255) := p_region.attribute_02;
          c_percent_column    constant varchar2(255) := p_region.attribute_03;
          c_link_target       constant varchar2(255) := p_region.attribute_04;
          
          c_layout            constant varchar2(1)   := p_region.attribute_05;
          c_chart_size        constant varchar2(3)   := p_region.attribute_06;
          c_chart_type        constant varchar2(3)   := p_region.attribute_07;
          c_colored           constant varchar2(1)   := p_region.attribute_08;
      
          l_label_column_no   pls_integer;
          l_value_column_no   pls_integer;
          l_percent_column_no pls_integer;
          l_column_value_list apex_plugin_util.t_column_value_list2;
          
          l_label             varchar2(4000);
          l_value             varchar2(4000);
          l_percent           number;
          l_url               varchar2(4000);
          l_class             varchar2(255);
      
      begin
          apex_json.initialize_output (
              p_http_cache => false );
              -- Read the data based on the region source query
          l_column_value_list := apex_plugin_util.get_data2 (
                                     p_sql_statement  => p_region.source,
                                     p_min_columns    => 2,
                                     p_max_columns    => null,
                                     p_component_name => p_region.name );
      
          -- Get the actual column# for faster access and also verify that the data type
          -- of the column matches with what we are looking for
          l_label_column_no   := apex_plugin_util.get_column_no (
                                     p_attribute_label   => 'Label Column',
                                     p_column_alias      => c_label_column,
                                     p_column_value_list => l_column_value_list,
                                     p_is_required       => true,
                                     p_data_type         => apex_plugin_util.c_data_type_varchar2 );
                                            
          l_value_column_no   := apex_plugin_util.get_column_no (
                                     p_attribute_label   => 'Value Column',
                                     p_column_alias      => c_value_column,
                                     p_column_value_list => l_column_value_list,
                                     p_is_required       => true,
                                     p_data_type         => apex_plugin_util.c_data_type_varchar2 );
                                            
          l_percent_column_no := apex_plugin_util.get_column_no (
                                   p_attribute_label   => 'Percent Column',
                                   p_column_alias      => c_percent_column,
                                   p_column_value_list => l_column_value_list,
                                   p_is_required       => false,
                                   p_data_type         => apex_plugin_util.c_data_type_number );
          
          -- begin output as json
          owa_util.mime_header('application/json', false);
          htp.p('cache-control: no-cache');
          htp.p('pragma: no-cache');
          owa_util.http_header_close;
       --   l_message_when_no_data_found := apex_escape.html_whitelist(
        --      apex_plugin_util.replace_substitutions (
         --             p_value  => c_message_when_no_data_found,
         --             p_escape => false
          --        )
          --    );
          apex_json.open_object();
          apex_json.write('layout', c_layout); 
          apex_json.write('chart_size', c_chart_size); 
          apex_json.write('chart_type', c_chart_type); 
          apex_json.write('colored', c_colored); 
          apex_json.open_array('data');
          for l_row_num in 1 .. l_column_value_list(1).value_list.count loop
              begin
                  apex_json.open_object(); 
                  -- Set the column values of our current row so that apex_plugin_util.replace_substitutions
                  -- can do substitutions for columns contained in the region source query.
                  apex_plugin_util.set_component_values (
                      p_column_value_list => l_column_value_list,
                      p_row_num           => l_row_num );
      
                  -- get the label
                  l_label := 
                                 apex_plugin_util.get_value_as_varchar2 (
                                     p_data_type => l_column_value_list(l_label_column_no).data_type,
                                     p_value     => l_column_value_list(l_label_column_no).value_list(l_row_num) );
                               --  p_region.escape_output );apex_plugin_util.escape (
      
                  apex_json.    write('label', l_label); 
                  
                  -- get the value
                  l_value := apex_plugin_util.get_value_as_varchar2 (
                                     p_data_type => l_column_value_list(l_value_column_no).data_type,
                                     p_value     => l_column_value_list(l_value_column_no).value_list(l_row_num) );
      
                  apex_json.    write('value', l_value); 
      
                  -- get percent
                  if l_percent_column_no is not null then
                      l_percent := l_column_value_list(l_percent_column_no).value_list(l_row_num).number_value;
                      apex_json.    write('percent', l_percent); 
                  end if;
      
                  -- get the link target if it does exist
                  if c_link_target is not null then
                      l_url := apex_util.prepare_url (
                                   apex_plugin_util.replace_substitutions (
                                       p_value  => c_link_target,
                                       p_escape => false ));
                      apex_json.    write('url', l_url);                
                  end if;
                  
                  apex_json.close_object();        
      
      
                  apex_plugin_util.clear_component_values;
              exception when others then
                  apex_plugin_util.clear_component_values;
                  raise;
              end;
          end loop;
          apex_json.close_all();
          
          return null;
      exception when others then
          htp.p('error: '||apex_escape.html(sqlerrm));
          return null;
      end ajax;
      
      

  callbacks: 
    api-interface: Function
    render-procedure/function-name: render
    ajax-procedure/function-name: ajax

  standard-attributes: 
    attributes: 
    - Region Source is SQL Statement [Deprecated]
    - Has "Page Items to Submit" Attribute
    - Has "Escape Special Characters" Region Attribute

  custom-attributes: 
    substitute-attribute-values: false

  files: 
    file-prefix: '#IMAGE_PREFIX#plugins/com.oracle.apex.badgelist/'

  css: 
    file-urls: 
    - '#PLUGIN_FILES#com_oracle_apex_badgelist.css'

  javascript: 
    file-urls: 
    - '#PLUGIN_FILES#com_oracle_apex_badgelist.js'

  information: 
    version: 5.0.2
    about-url: 'http://apex.oracle.com/plugins'
    help-text: |
      <p>Badge lists are useful for displaying a region with a small number of counts for important statistics. For example, in Bug Tracker, this plug-in is used to show the total bugs, open bugs, open high priority bugs, and open critical severity bugs.</p>
      <p>This plug-in is suitable for adding to the Home page to show important summary information.</p>

  standard-attributes: 
  - # ====== Standard Attribute: SOURCE_SQL ======================
    id: 22506924571318677016
    identification: 
      name: SOURCE_SQL

    value: 
      required: true

    settings: 
      minimum-columns: 2

    examples: 
      examples: |
        <pre>
        select 'Open'               as label,
               to_char(320,'9G990') as value,
               13                   as percent
          from dual
         union all
        select 'Closed'             as label,
               to_char(87,'9G990')  as value,
               70                   as percent
          from dual
        </pre>

  custom-attributes: 
  - # ====== Custom Attribute: Label Column ======================
    id: 35407074772631558386
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Label Column
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the labels for the badges.

  - # ====== Custom Attribute: Value Column ======================
    id: 35407075123909558386
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Value Column
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the values for the badges.

  - # ====== Custom Attribute: Percent Column ====================
    id: 35407075511373558386
    identification: 
      static-id: attribute_03
      attribute: 3
      name: Percent Column
      scope: Component

    layout: 
      sequence: 30

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      data-types: 
      - Number

    help: 
      help-text: Select the column from the region SQL Query that holds the percentage values for the badges. Percentages will be displayed together with the value within the badge.

  - # ====== Custom Attribute: Link Target =======================
    id: 35407075986825558387
    identification: 
      static-id: attribute_04
      attribute: 4
      name: Link Target
      scope: Component

    layout: 
      sequence: 40

    settings: 
      type: Link to Target Page/URL
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    help: 
      help-text: <p>Enter a target page to be called when the user clicks a badge entry.</p>

    examples: 
      examples: |
        <p>Example 1: URL to navigate to page 10 and set P10_EMPNO to the EMPNO value of the clicked entry.
        <pre>f?p=&amp;APP_ID.:10:&amp;APP_SESSION.::&amp;DEBUG.:RP,10:P10_EMPNO:&amp;EMPNO.</pre>
        </p>
        <p>Example 2: Display the EMPNO value of the clicked entry in a JavaScript alert
        <pre>javascript:alert('current empno: &amp;EMPNO.');</pre>
        </p>

  - # ====== Custom Attribute: Layout ============================
    id: 35407076324616558387
    identification: 
      static-id: attribute_05
      attribute: 5
      name: Layout
      scope: Component

    layout: 
      sequence: 50

    settings: 
      type: Select List
      lov-type: Static
      common: false
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: 0

    help: 
      help-text: <p>Select the layout to determine how the badge list is displayed.</p>

    entries: 
    - # ====== Entry: Fit to Page ==================================
      id: 35407076695110558387
      entry: 
        sequence: 5
        display: Fit to Page
        return: 0

      advanced: 
        quick-pick: false

      help: 
        help-text: |
          <p>Sizes the badges to stretch across the page. The width of each badge will be determined by the number of badges and the display width.</p>
          <p>Note: Badges will not wrap when displayed on smaller devices.</p>

    - # ====== Entry: Float to Left ================================
      id: 35407077254934558388
      entry: 
        sequence: 7
        display: Float to Left
        return: F

      advanced: 
        quick-pick: false

      help: 
        help-text: <p>Sizes the badges based on the width of the label for each badge. All badges will be displayed to the left of the region.</p>

    - # ====== Entry: 1 column =====================================
      id: 35407077747556558388
      entry: 
        sequence: 10
        display: 1 column
        return: 1

      advanced: 
        quick-pick: false

      help: 
        help-text: Displays only one badge per row. Therefore, if there are three badges they are displayed on three rows.

    - # ====== Entry: 2 columns ====================================
      id: 35407078289125558388
      entry: 
        sequence: 20
        display: 2 columns
        return: 2

      advanced: 
        quick-pick: false

      help: 
        help-text: Displays only two badges per row. Therefore, if there are three badges they are displayed on two rows.

    - # ====== Entry: 3 columns ====================================
      id: 35407078731956558388
      entry: 
        sequence: 30
        display: 3 columns
        return: 3

      advanced: 
        quick-pick: false

      help: 
        help-text: <p>Displays a maximum of three badges per row. Therefore, if there are four badges they are displayed on two rows.</p>

    - # ====== Entry: 4 columns ====================================
      id: 35407079271117558389
      entry: 
        sequence: 40
        display: 4 columns
        return: 4

      advanced: 
        quick-pick: false

      help: 
        help-text: <p>Displays a maximum of four badges per row. Therefore, if there are six badges they are displayed on two rows.</p>

    - # ====== Entry: 5 columns ====================================
      id: 35407079788330558389
      entry: 
        sequence: 50
        display: 5 columns
        return: 5

      advanced: 
        quick-pick: false

      help: 
        help-text: |
          <p>Displays a maximum of fix badges per row. Therefore, if there are seven badges they are displayed on two rows.</p>
          <p>Note: on smaller displays where the badges cannot be displayed appropriately, the responsive region will revert to less column and additional rows. For example, seven badges may be displayed as three columns on three rows, instead of five columns on two rows.</p>

  - # ====== Custom Attribute: Chart Size ========================
    id: 35407080287996558389
    identification: 
      static-id: attribute_06
      attribute: 6
      name: Chart Size
      scope: Component

    layout: 
      sequence: 70

    settings: 
      type: Select List
      lov-type: Static
      common: false
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: L

    condition: 
      depending-on-custom-attribute: Chart Type # 35407083099388558391
      depending-on-condition-type: not equal to
      expression: BOX
      always-evaluate: true

    help: 
      help-text: Select the size of badge to display.

    entries: 
    - # ====== Entry: Small ========================================
      id: 35407080659425558390
      entry: 
        sequence: 0
        display: Small
        return: S

      advanced: 
        quick-pick: false

    - # ====== Entry: Medium =======================================
      id: 35407081144173558390
      entry: 
        sequence: 10
        display: Medium
        return: M

      advanced: 
        quick-pick: false

    - # ====== Entry: Large ========================================
      id: 35407081652226558390
      entry: 
        sequence: 20
        display: Large
        return: L

      advanced: 
        quick-pick: false

    - # ====== Entry: Extra Large ==================================
      id: 35407082111499558391
      entry: 
        sequence: 30
        display: Extra Large
        return: B

      advanced: 
        quick-pick: false

    - # ====== Entry: Extra Extra Large ============================
      id: 35407082617609558391
      entry: 
        sequence: 40
        display: Extra Extra Large
        return: XXL

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Chart Type ========================
    id: 35407083099388558391
    identification: 
      static-id: attribute_07
      attribute: 7
      name: Chart Type
      scope: Component

    layout: 
      sequence: 60

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: BOX

    help: 
      help-text: Select the shape of the badges to display.

    entries: 
    - # ====== Entry: Rectangular ==================================
      id: 35407083570673558391
      entry: 
        sequence: 10
        display: Rectangular
        return: BOX

      advanced: 
        quick-pick: false

    - # ====== Entry: Circular =====================================
      id: 35407084059047558392
      entry: 
        sequence: 20
        display: Circular
        return: DOT

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Color =============================
    id: 35407084514430558392
    identification: 
      static-id: attribute_08
      attribute: 8
      name: Color
      scope: Component

    layout: 
      sequence: 80

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: N

    help: 
      help-text: Select if the badges should be displayed in different colors, or without colors.

    entries: 
    - # ====== Entry: Yes ==========================================
      id: 35407084974650558392
      entry: 
        sequence: 10
        display: Yes
        return: Y

      advanced: 
        quick-pick: false

    - # ====== Entry: No ===========================================
      id: 35407085433873558393
      entry: 
        sequence: 20
        display: No
        return: N

      advanced: 
        quick-pick: false

- # ====== Plugin: D3 Line Chart ===============================
  id: 37223790085228400731
  identification: 
    name: D3 Line Chart
    internal-name: COM.ORACLE.APEX.D3.LINE
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function render 
      (
          p_region                in  apex_plugin.t_region,
          p_plugin                in  apex_plugin.t_plugin,
          p_is_printer_friendly   in  boolean 
      )
      return apex_plugin.t_region_render_result
      is
          -- Assign readable names to plugin attributes. Omit data attributes, they'll be handled in ajax function.
          -- Dimensions
          c_height_mode           constant varchar2(200)  := p_region.attribute_09;
          c_min_height            constant number         := nvl(p_region.attribute_17, 100);
          c_max_height            constant number         := nvl(p_region.attribute_18, 500);
      
          -- Axis titles
          c_x_axis_title          constant varchar2(200)  := p_region.attribute_03;
          c_y_axis_title          constant varchar2(200)  := p_region.attribute_04;
      
          -- Axis grid
          c_x_axis_grid           constant boolean        := instr(':' || p_region.attribute_21 || ':', ':X:') > 0;
          c_y_axis_grid           constant boolean        := instr(':' || p_region.attribute_21 || ':', ':Y:') > 0;
      
          -- Line interpolation
          c_line_interpolation    constant varchar2(200)  := p_region.attribute_08;
      
          -- Tooltip configuration
          c_show_tooltip          constant boolean        := p_region.attribute_16 is not null;
          c_series_tooltip        constant boolean        := instr(':' || p_region.attribute_16 || ':', ':SERIES:') > 0;
          c_x_tooltip             constant boolean        := instr(':' || p_region.attribute_16 || ':', ':X:') > 0;
          c_y_tooltip             constant boolean        := instr(':' || p_region.attribute_16 || ':', ':Y:') > 0;
          c_custom_tooltip        constant boolean        := instr(':' || p_region.attribute_16 || ':', ':CUSTOM:') > 0;
      
          -- Legend
          c_show_legend           constant boolean        := p_region.attribute_25 is not null;
          c_legend_position       constant varchar2(200)  := p_region.attribute_25;
      
          -- Display modes
          c_x_data_type           constant varchar2(200)  := p_region.attribute_05;
          c_x_value_template      constant varchar2(200)  := nvl(p_region.attribute_06, p_region.attribute_07);
          c_y_value_template      constant varchar2(200)  := nvl(p_region.attribute_10, p_region.attribute_11);
          c_x_tick_interval       constant varchar2(200)  := nvl(p_region.attribute_12, 'auto');
          c_responsive            constant boolean        := p_plugin.attribute_05 = 'Y';
          c_transitions           constant boolean        := p_plugin.attribute_06 = 'Y';
          c_display               constant varchar2(200)  := p_region.attribute_20;
      
          -- Colors
          c_color_scheme          constant varchar2(200)  := p_region.attribute_13;
          l_colors                varchar2(200)           := p_region.attribute_14;
      
          -- Aspect ratios
          c_min_ar                constant number         := nvl( apex_plugin_util.get_attribute_as_number(p_plugin.attribute_02, 'Min Aspect Ratio'), 1.333);
          c_max_ar                constant number         := nvl( apex_plugin_util.get_attribute_as_number(p_plugin.attribute_01, 'Max Aspect Ratio'), 3);
          c_threshold             constant number         := p_plugin.attribute_03;
          c_threshold_of          constant varchar2(200)  := p_plugin.attribute_04;
      begin
          -- Add placeholder div
          sys.htp.p (
              '<div class="a-D3LineChart" id="' || p_region.static_id || '_region">' ||
                  '<div class="a-D3LineChart-container" id="' || p_region.static_id || '_chart"></div>' ||
              '</div>' );
      
          -- Color scheme
          case c_color_scheme
              when 'MODERN' then
                  l_colors := '#FF3B30:#FF9500:#FFCC00:#4CD964:#34AADC:#007AFF:#5856D6:#FF2D55:#8E8E93:#C7C7CC';
              when 'MODERN2' then
                  l_colors := '#1ABC9C:#2ECC71:#4AA3DF:#9B59B6:#3D566E:#F1C40F:#E67E22:#E74C3C';
              when 'SOLAR' then
                  l_colors := '#B58900:#CB4B16:#DC322F:#D33682:#6C71C4:#268BD2:#2AA198:#859900';
              when 'METRO' then
                  l_colors := '#E61400:#19A2DE:#319A31:#EF9608:#8CBE29:#A500FF:#00AAAD:#FF0094:#9C5100:#E671B5';
              else
                  null;
          end case;    
      
          -- Build the initial chart. Data will be loaded with ajax.
          apex_javascript.add_onload_code (
              p_code => 'com_oracle_apex_d3_linechart(' ||
                  apex_javascript.add_value(p_region.static_id) ||
                  '{' ||
                      apex_javascript.add_attribute('chartRegionId',  p_region.static_id || '_chart') ||
                      apex_javascript.add_attribute('xAxisTitle',     c_x_axis_title) || 
                      apex_javascript.add_attribute('yAxisTitle',     c_y_axis_title) || 
                      apex_javascript.add_attribute('showTooltip',    c_show_tooltip) || 
                      apex_javascript.add_attribute('tooltipSeries',  c_series_tooltip) || 
                      apex_javascript.add_attribute('tooltipX',       c_x_tooltip) || 
                      apex_javascript.add_attribute('tooltipY',       c_y_tooltip) || 
                      apex_javascript.add_attribute('tooltipCustom',  c_custom_tooltip) ||
                      apex_javascript.add_attribute('responsive',     c_responsive) || 
                      apex_javascript.add_attribute('transitions',    c_transitions) || 
                      apex_javascript.add_attribute('xDataType',      c_x_data_type) || 
                      apex_javascript.add_attribute('display',        c_display) || 
                      apex_javascript.add_attribute('xValueTemplate', c_x_value_template) || 
                      apex_javascript.add_attribute('yValueTemplate', c_y_value_template) || 
                      apex_javascript.add_attribute('xTickInterval',  c_x_tick_interval) || 
                      apex_javascript.add_attribute('showLegend',     c_show_legend) || 
                      apex_javascript.add_attribute('legendPosition', c_legend_position) || 
                      apex_javascript.add_attribute('colors',         l_colors) || 
                      apex_javascript.add_attribute('xGrid',          c_x_axis_grid) || 
                      apex_javascript.add_attribute('yGrid',          c_y_axis_grid) || 
                      apex_javascript.add_attribute('interpolation',  c_line_interpolation) ||
                      apex_javascript.add_attribute('heightMode',     c_height_mode) ||
                      apex_javascript.add_attribute('minHeight',      c_min_height) || 
                      apex_javascript.add_attribute('maxHeight',      c_max_height) || 
                      apex_javascript.add_attribute('threshold',      c_threshold) || 
                      apex_javascript.add_attribute('thresholdOf',    c_threshold_of) || 
                      apex_javascript.add_attribute('minAR',          c_min_ar) ||
                      apex_javascript.add_attribute('maxAR',          c_max_ar) ||
                      apex_javascript.add_attribute('noDataFoundMessage', p_region.no_data_found_message) || 
                      apex_javascript.add_attribute('pageItems',      apex_plugin_util.page_item_names_to_jquery(p_region.ajax_items_to_submit)) ||
                      apex_javascript.add_attribute('ajaxIdentifier', apex_plugin.get_ajax_identifier, false, false) ||
                  '});' );
          return null;
      end;
      
      function ajax
      (
          p_region    in  apex_plugin.t_region,
          p_plugin    in  apex_plugin.t_plugin 
      )
      return apex_plugin.t_region_ajax_result
      is
          -- It's better to have named variables instead of using the generic ones, 
          -- makes the code more readable. 
      
          -- Column names
          c_x_column              constant varchar2(255) := p_region.attribute_01;
          c_y_column              constant varchar2(255) := p_region.attribute_02;
          c_series_column         constant varchar2(255) := p_region.attribute_23;
          c_tooltip_column        constant varchar2(255) := p_region.attribute_15;
          c_link_template         constant varchar2(255) := p_region.attribute_19;
      
          -- X Column data type
          c_x_data_type           constant varchar2(200)  := p_region.attribute_05;
      
          -- Series name, for single series configuration
          c_series_name           constant varchar2(200) := p_region.attribute_24;
          c_use_sql_color         constant boolean       := p_region.attribute_13 = 'COLUMN';
      
          -- Column numbers for fetching
          l_x_column_no           pls_integer;
          l_y_column_no           pls_integer;
          l_series_column_no      pls_integer;
          l_tooltip_column_no     pls_integer;
          l_column_value_list     apex_plugin_util.t_column_value_list2;
      
          -- Holders for row data
          l_x                     number;
          l_x_date                varchar2(200);
          l_y                     number;
          l_series                varchar2(4000);
          l_color                 varchar2(4000);
          l_tooltip               varchar2(4000);
          l_link                  varchar2(4000);
      
      begin
      
          apex_json.initialize_output (
              p_http_cache => false );
      
          apex_json.open_object;
      
          -- First, we must get the color mapping if the color scheme requires it.
          if c_use_sql_color then
              l_column_value_list := apex_plugin_util.get_data2 (
                  p_sql_statement     => p_region.attribute_23,
                  p_min_columns       => 2,
                  p_max_columns       => 2,
                  p_component_name    => p_region.name );
      
              apex_json.open_array('colors');
              for l_row_num in 1 .. l_column_value_list(1).value_list.count loop
                  -- Series, optional
                  l_series := apex_plugin_util.get_value_as_varchar2 (
                      p_data_type => l_column_value_list(1).data_type,
                      p_value     => l_column_value_list(1).value_list(l_row_num) );
                  l_color := apex_plugin_util.get_value_as_varchar2 (
                      p_data_type => l_column_value_list(2).data_type,
                      p_value     => l_column_value_list(2).value_list(l_row_num) );
                  
                  apex_json.open_object;
                  apex_json.write('series', l_series);
                  apex_json.write('color', l_color);
                  apex_json.close_object();
      
              end loop;
              apex_json.close_array;
      
              l_series := null;
          end if;
      
          -- Then, we get the actual data points.
          l_column_value_list := apex_plugin_util.get_data2 (
              p_sql_statement     => p_region.source,
              p_min_columns       => 2,
              p_max_columns       => 5,
              p_component_name    => p_region.name );
      
          -- Get the actual column # for faster access and also verify that the data type
          -- of the column matches with what we are looking for
          IF c_x_data_type = 'NUMBER' THEN
              l_x_column_no := apex_plugin_util.get_column_no (
                  p_attribute_label       => 'x column',
                  p_column_alias          => c_x_column,
                  p_column_value_list     => l_column_value_list,
                  p_is_required           => true,
                  p_data_type             => apex_plugin_util.c_data_type_varchar2 );
          ELSIF c_x_data_type = 'TIMESTAMP' THEN
              l_x_column_no := apex_plugin_util.get_column_no (
                  p_attribute_label       => 'x column',
                  p_column_alias          => c_x_column,
                  p_column_value_list     => l_column_value_list,
                  p_is_required           => true,
                  p_data_type             => apex_plugin_util.c_data_type_timestamp );
          ELSIF c_x_data_type = 'TIMESTAMP_TZ' THEN
              l_x_column_no := apex_plugin_util.get_column_no (
                  p_attribute_label       => 'x column',
                  p_column_alias          => c_x_column,
                  p_column_value_list     => l_column_value_list,
                  p_is_required           => true,
                  p_data_type             => apex_plugin_util.c_data_type_timestamp_tz );
          ELSIF c_x_data_type = 'TIMESTAMP_LTZ' THEN
              l_x_column_no := apex_plugin_util.get_column_no (
                  p_attribute_label       => 'x column',
                  p_column_alias          => c_x_column,
                  p_column_value_list     => l_column_value_list,
                  p_is_required           => true,
                  p_data_type             => apex_plugin_util.c_data_type_timestamp_ltz );
          ELSE
              l_x_column_no := apex_plugin_util.get_column_no (
                  p_attribute_label       => 'x column',
                  p_column_alias          => c_x_column,
                  p_column_value_list     => l_column_value_list,
                  p_is_required           => true,
                  p_data_type             => apex_plugin_util.c_data_type_date );
          END IF;
      
          l_y_column_no := apex_plugin_util.get_column_no (
              p_attribute_label       => 'y column',
              p_column_alias          => c_y_column,
              p_column_value_list     => l_column_value_list,
              p_is_required           => true,
              p_data_type             => apex_plugin_util.c_data_type_number );
      
          l_series_column_no := apex_plugin_util.get_column_no (
              p_attribute_label       => 'series column',
              p_column_alias          => c_series_column,
              p_column_value_list     => l_column_value_list,
              p_is_required           => false,
              p_data_type             => apex_plugin_util.c_data_type_varchar2 );
      
          l_tooltip_column_no := apex_plugin_util.get_column_no (
              p_attribute_label       => 'tooltip column',
              p_column_alias          => c_tooltip_column,
              p_column_value_list     => l_column_value_list,
              p_is_required           => false,
              p_data_type             => apex_plugin_util.c_data_type_varchar2 );
      
          --sys.htp.prn('"data":[');
          apex_json.open_array('data');
      
          -- Fetch data
          for l_row_num in 1 .. l_column_value_list(1).value_list.count loop
              begin
                  apex_plugin_util.set_component_values (
                      p_column_value_list => l_column_value_list,
                      p_row_num => l_row_num 
                  );
      
                  -- X is a string, number or date required
                  if l_x_column_no is not null then
                      
                      IF c_x_data_type = 'NUMBER' THEN
                          l_x := l_column_value_list(l_x_column_no).value_list(l_row_num).number_value;
                      ELSIF c_x_data_type = 'TIMESTAMP' THEN
                          l_x_date := to_char(l_column_value_list(l_x_column_no).value_list(l_row_num).timestamp_value, 'DY MON DD YYYY HH24:MI:SS TZH:TZM'); 
                      ELSIF c_x_data_type = 'TIMESTAMP_TZ' THEN
                          l_x_date := to_char(l_column_value_list(l_x_column_no).value_list(l_row_num).timestamp_tz_value, 'DY MON DD YYYY HH24:MI:SS TZH:TZM');
                      ELSIF c_x_data_type = 'TIMESTAMP_LTZ' THEN
                          l_x_date := to_char(l_column_value_list(l_x_column_no).value_list(l_row_num).timestamp_ltz_value, 'DY MON DD YYYY HH24:MI:SS');
                      ELSE
                          l_x_date := to_char(l_column_value_list(l_x_column_no).value_list(l_row_num).date_value, 'DY MON DD YYYY HH24:MI:SS');
                      END IF;
      
      
                  end if;
      
                  -- Y is a number, required
                  l_y := l_column_value_list(l_y_column_no).value_list(l_row_num).number_value;
      
                  -- Series, optional
                  if l_series_column_no is not null then
                      l_series := apex_plugin_util.get_value_as_varchar2 (
                          p_data_type => l_column_value_list(l_series_column_no).data_type,
                          p_value     => l_column_value_list(l_series_column_no).value_list(l_row_num) );
                  end if;
      
                  -- Tooltip, optional
                  if l_tooltip_column_no is not null then
                      l_tooltip := apex_plugin_util.get_value_as_varchar2 (
                          p_data_type => l_column_value_list(l_tooltip_column_no).data_type,
                          p_value     => l_column_value_list(l_tooltip_column_no).value_list(l_row_num) );
                  end if;
      
                  -- Link, optional
                  if c_link_template is not null then
                      l_link := apex_util.prepare_url (
                          apex_plugin_util.replace_substitutions (
                              p_value  => c_link_template,
                              p_escape => false ) );
                  end if;
      
                  apex_json.open_object;
                  apex_json.write('series', nvl(l_series, c_series_name));
                  apex_json.write('tooltip', l_tooltip);
                  apex_json.write('link', l_link);
                   IF c_x_data_type = 'NUMBER' THEN
                      apex_json.write('x', l_x);
                  ELSE
                      apex_json.write('x', l_x_date);
                  END IF;
                  apex_json.write('y', l_y);
                  apex_json.close_object;
      
                  apex_plugin_util.clear_component_values;
      
              exception when others then
                  apex_plugin_util.clear_component_values;
                  raise;
              end;
          end loop;
          apex_json.close_array;
          apex_json.close_object;
      
          return null;
      end;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: render
    ajax-procedure/function-name: ajax

  standard-attributes: 
    attributes: 
    - Region Source is SQL Statement [Deprecated]
    - Has "Page Items to Submit" Attribute
    - Has "No Data Found Message" Attribute

  custom-attributes: 
    substitute-attribute-values: false

  css: 
    file-urls: 
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.css'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.css'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.linechart/1.0/d3.oracle.linechart.css'

  javascript: 
    file-urls: 
    - '#IMAGE_PREFIX#libraries/d3/3.5.5/d3.min.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/d3.oracle.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/oracle.jql.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.linechart/1.0/d3.oracle.linechart.js'
    - '#PLUGIN_FILES#com.oracle.apex.d3.linechart.js'

  information: 
    version: 5.0.1
    about-url: 'http://apex.oracle.com/plugins'
    help-text: Data Driven Documents (D3) Line Chart provides dynamic and interactive bar charts for data visualization, using Scalable Vector Graphics (SVG), JavaScript, HTML5, and Cascading Style Sheets (CSS3) standards.

  standard-attributes: 
  - # ====== Standard Attribute: SOURCE_SQL ======================
    id: 22506924777424677016
    identification: 
      name: SOURCE_SQL

    value: 
      required: true

    settings: 
      minimum-columns: 2
      maximum-columns: 5

  custom-attributes: 
  - # ====== Custom Attribute: Maximum Aspect Ratio ==============
    id: 35557789476639662593
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Maximum Aspect Ratio
      scope: Application

    layout: 
      sequence: 520

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      display-width: 5

    default: 
      value: 3

    help: 
      help-text: |
        <p>Enter the maximum aspect ratio that charts use to recommend a height. A maximum aspect ratio of 3 means that the chart's width should be no greater than 3 times its height. </p>
        <p>Note: This setting can be overridden by the 'Maximum Height' setting on the region.</p>

  - # ====== Custom Attribute: Minimum Aspect Ratio ==============
    id: 35557789874281662593
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Minimum Aspect Ratio
      scope: Application

    layout: 
      sequence: 510

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      display-width: 5

    default: 
      value: 1.333

    help: 
      help-text: |
        <p>Enter the minimum aspect ratio that charts use to recommend a height. A minimum aspect ratio of 1.333 means that the chart's width should be no less than 1.333 times its height. </p>
        <p>Note: This setting can be overridden by the 'Minimum Height' setting on the region.</p>

  - # ====== Custom Attribute: Responsive Behavior Threshold =====
    id: 35557790268002662593
    identification: 
      static-id: attribute_03
      attribute: 3
      name: Responsive Behavior Threshold
      scope: Application

    layout: 
      sequence: 550

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      display-width: 5
      maximum-length: 5
      unit: px

    default: 
      value: 480

    help: 
      help-text: Enter the threshold (in pixels) at which the responsive behavior will be activated.

  - # ====== Custom Attribute: Responsive Behavior Measure =======
    id: 35557790639225662593
    identification: 
      static-id: attribute_04
      attribute: 4
      name: Responsive Behavior Measure
      scope: Application

    layout: 
      sequence: 540

    settings: 
      type: Select List
      lov-type: Static
      common: false
      show-in-wizard: false
      required: true
      translatable: false

    default: 
      value: WINDOW

    help: 
      help-text: Select whether the responsive behavior threshold will be compared to the window or the region width.

    entries: 
    - # ====== Entry: Window =======================================
      id: 35557791050773662594
      entry: 
        sequence: 10
        display: Window
        return: WINDOW

      advanced: 
        quick-pick: false

    - # ====== Entry: Region =======================================
      id: 35557791589947662594
      entry: 
        sequence: 20
        display: Region
        return: REGION

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Responsive Behavior ===============
    id: 35557791993858662595
    identification: 
      static-id: attribute_05
      attribute: 5
      name: Responsive Behavior
      scope: Application

    layout: 
      sequence: 530

    settings: 
      type: Yes/No
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    default: 
      value: Y

    help: 
      help-text: Select whether responsive behavior is enabled for the chart.

  - # ====== Custom Attribute: Enable Transitions ================
    id: 35557792469171662595
    identification: 
      static-id: attribute_06
      attribute: 6
      name: Enable Transitions
      scope: Application

    layout: 
      sequence: 560

    settings: 
      type: Yes/No
      common: false
      show-in-wizard: false
      required: false
      translatable: false

    default: 
      value: Y

    help: 
      help-text: Select whether transitions are enabled for the chart.

  - # ====== Custom Attribute: X Values Column ===================
    id: 35557792836066662595
    identification: 
      static-id: attribute_01
      attribute: 1
      name: X Values Column
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Number
      - Date
      - Timestamp

    help: 
      help-text: Select the column from the region SQL Query that holds the X-axis values for the chart.

  - # ====== Custom Attribute: Y Values Column ===================
    id: 35557793205547662596
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Y Values Column
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Number

    help: 
      help-text: Select the column from the region SQL Query that holds the Y-axis values for the chart.

  - # ====== Custom Attribute: X-Axis Title ======================
    id: 35557793644587662596
    identification: 
      static-id: attribute_03
      attribute: 3
      name: X-Axis Title
      scope: Component

    layout: 
      sequence: 70

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      display-width: 20

    help: 
      help-text: Enter the label for the X-axis.

  - # ====== Custom Attribute: Y-Axis Title ======================
    id: 35557794017259662596
    identification: 
      static-id: attribute_04
      attribute: 4
      name: Y-Axis Title
      scope: Component

    layout: 
      sequence: 80

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: false
      translatable: true
      display-width: 20

    help: 
      help-text: Enter the label for the Y-axis.

  - # ====== Custom Attribute: X-Axis Data Type ==================
    id: 35557794457936662596
    identification: 
      static-id: attribute_05
      attribute: 5
      name: X-Axis Data Type
      scope: Component

    layout: 
      sequence: 90

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: NUMBER

    help: 
      help-text: Select the data type for the X-axis.

    entries: 
    - # ====== Entry: Number =======================================
      id: 35557794819450662597
      entry: 
        sequence: 10
        display: Number
        return: NUMBER

      advanced: 
        quick-pick: false

    - # ====== Entry: Date =========================================
      id: 35557795299967662597
      entry: 
        sequence: 20
        display: Date
        return: DATE

      advanced: 
        quick-pick: false

    - # ====== Entry: Timestamp ====================================
      id: 35557795841298662597
      entry: 
        sequence: 30
        display: Timestamp
        return: TIMESTAMP

      advanced: 
        quick-pick: false

    - # ====== Entry: Timestamp with Time Zone =====================
      id: 35557796381049662598
      entry: 
        sequence: 40
        display: Timestamp with Time Zone
        return: TIMESTAMP_TZ

      advanced: 
        quick-pick: false

    - # ====== Entry: Timestamp with Local Time Zone ===============
      id: 35557796826946662598
      entry: 
        sequence: 50
        display: Timestamp with Local Time Zone
        return: TIMESTAMP_LTZ

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: X-Axis Value Format Mask ==========
    id: 35557797376359662598
    identification: 
      static-id: attribute_06
      attribute: 6
      name: X-Axis Value Format Mask
      scope: Component

    layout: 
      sequence: 110

    settings: 
      type: Select List
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      lov-null-text: Custom

    help: 
      help-text: Select the data format mask for the X-axis.

    entries: 
    - # ====== Entry: 14,435 =======================================
      id: 35557797778444662599
      entry: 
        sequence: 30
        display: 14,435
        return: ',.0f'

      advanced: 
        quick-pick: false

      help: 
        help-text: Comma-separated thousands, integers

    - # ====== Entry: 14435 ========================================
      id: 35557798244304662599
      entry: 
        sequence: 40
        display: 14435
        return: .0f

      advanced: 
        quick-pick: false

      help: 
        help-text: Integer

    - # ====== Entry: 14,435.49 ====================================
      id: 35557798756680662599
      entry: 
        sequence: 60
        display: 14,435.49
        return: ',.2f'

      advanced: 
        quick-pick: false

      help: 
        help-text: Comma-separated thousands, 2 decimals

    - # ====== Entry: 14435.49 =====================================
      id: 35557799281175662600
      entry: 
        sequence: 70
        display: 14435.49
        return: .2f

      advanced: 
        quick-pick: false

      help: 
        help-text: 2 decimals

    - # ====== Entry: 14.4k ========================================
      id: 35557799767899662600
      entry: 
        sequence: 71
        display: 14.4k
        return: .3s

      advanced: 
        quick-pick: false

      help: 
        help-text: Precision 3, SI suffixes

    - # ====== Entry: $14,435 ======================================
      id: 35557800271686662600
      entry: 
        sequence: 80
        display: $14,435
        return: $,.0f

      advanced: 
        quick-pick: false

      help: 
        help-text: Currency, comma-separated thousands, integer

    - # ====== Entry: $14435 =======================================
      id: 35557800733370662600
      entry: 
        sequence: 90
        display: $14435
        return: $.0f

      advanced: 
        quick-pick: false

      help: 
        help-text: Currency, integer

    - # ====== Entry: $14,435.49 ===================================
      id: 35557801251994662601
      entry: 
        sequence: 99
        display: $14,435.49
        return: $,.2f

      advanced: 
        quick-pick: false

      help: 
        help-text: Currency, comma-separated thousands, 2 decimals

    - # ====== Entry: $14435.49 ====================================
      id: 35557801740102662601
      entry: 
        sequence: 100
        display: $14435.49
        return: $.2f

      advanced: 
        quick-pick: false

      help: 
        help-text: Currency, 2 decimals

    - # ====== Entry: $14.4k =======================================
      id: 35557802254730662601
      entry: 
        sequence: 120
        display: $14.4k
        return: $.3s

      advanced: 
        quick-pick: false

      help: 
        help-text: Currency, precison 3, SI suffixes

    - # ====== Entry: 23:45:12 =====================================
      id: 35557802747980662602
      entry: 
        sequence: 130
        display: '23:45:12'
        return: '%X'

      advanced: 
        quick-pick: false

    - # ====== Entry: 12/24/2000 ===================================
      id: 35557803228588662602
      entry: 
        sequence: 140
        display: 12/24/2000
        return: '%x'

      advanced: 
        quick-pick: false

    - # ====== Entry: Mon Jan 5 23:45:12 2000 ======================
      id: 35557803761220662602
      entry: 
        sequence: 150
        display: 'Mon Jan 5 23:45:12 2000'
        return: '%c'

      advanced: 
        quick-pick: false

    - # ====== Entry: 12 Jan 2000 ==================================
      id: 35557804276901662603
      entry: 
        sequence: 160
        display: 12 Jan 2000
        return: '%e %b %Y'

      advanced: 
        quick-pick: false

    - # ====== Entry: Day ==========================================
      id: 35557804699742662603
      entry: 
        sequence: 170
        display: Day
        return: '%A'

      advanced: 
        quick-pick: false

      help: 
        help-text: Full weekday name

    - # ====== Entry: Month ========================================
      id: 35557805227986662603
      entry: 
        sequence: 180
        display: Month
        return: '%B'

      advanced: 
        quick-pick: false

      help: 
        help-text: Full month name

    - # ====== Entry: Year =========================================
      id: 35557805779771662604
      entry: 
        sequence: 190
        display: Year
        return: '%Y'

      advanced: 
        quick-pick: false

      help: 
        help-text: Full year

  - # ====== Custom Attribute: X-Axis Custom Value Format Mask ===
    id: 35557806283153662604
    identification: 
      static-id: attribute_07
      attribute: 7
      name: X-Axis Custom Value Format Mask
      scope: Component

    layout: 
      sequence: 120

    settings: 
      type: Text
      common: false
      show-in-wizard: false
      required: true
      translatable: false

    default: 
      value: FRIENDLY

    condition: 
      depending-on-custom-attribute: X-Axis Value Format Mask # 35557797376359662598
      depending-on-condition-type: NULL
      always-evaluate: true

    help: 
      help-text: Enter the D3 format string used to format the X-axis values on axes, tooltips and legends. Use <pre>FRIENDLY</pre> to utilize sensible formatting defaults for your data.

    examples: 
      examples: |
        <ul>
        <li><b>,d</b> = 14,435</li>
        <li><b>d</b> = 14435</li>
        <li><b>,.2f</b> = 14,435.49</li>
        <li><b>.2f</b> = 14435.49</li>
        <li><b>.3s</b> = 14.4k</li>
        <li><b>$,d</b> = $14,435</li>
        <li><b>$d</b> = $14435</li>
        <li><b>$,.2f</b> = $14,435.49</li>
        <li><b>$.2f</b> = $14435.49</li>
        <li><b>$.3s</b> = $14.4k</li>
        <li><b>n" ft."</b> = 14435.49 ft. **</li>
        <li><b>"[["$.3s"]]"</b> = [[$14.4k]] **</li>
        <li>Refer to https://github.com/mbostock/d3/wiki/Formatting#d3_format for the full syntax specification</li>
        </ul>
        <br/>
        ** You may use leading and trailing double-quoted literals, but this feature is not part of the standard D3 specification

  - # ====== Custom Attribute: Line Interpolation ================
    id: 35557806669547662604
    identification: 
      static-id: attribute_08
      attribute: 8
      name: Line Interpolation
      scope: Component

    layout: 
      sequence: 220

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: linear

    help: 
      help-text: Select how the curvature of the line is fitted for the chart.

    entries: 
    - # ====== Entry: Linear =======================================
      id: 35557807003362662604
      entry: 
        sequence: 10
        display: Linear
        return: linear

      advanced: 
        quick-pick: false

    - # ====== Entry: Step Before ==================================
      id: 35557807516404662605
      entry: 
        sequence: 20
        display: Step Before
        return: step-before

      advanced: 
        quick-pick: false

    - # ====== Entry: Step After ===================================
      id: 35557808017140662605
      entry: 
        sequence: 30
        display: Step After
        return: step-after

      advanced: 
        quick-pick: false

    - # ====== Entry: Cardinal =====================================
      id: 35557808563350662605
      entry: 
        sequence: 40
        display: Cardinal
        return: cardinal

      advanced: 
        quick-pick: false

    - # ====== Entry: Monotone =====================================
      id: 35557809086207662606
      entry: 
        sequence: 50
        display: Monotone
        return: monotone

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Height Measure ====================
    id: 35557809571905662606
    identification: 
      static-id: attribute_09
      attribute: 9
      name: Height Measure
      scope: Component

    layout: 
      sequence: 230

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: LINES

    help: 
      help-text: Select how the minimum and maximum height of the chart is calculated.

    entries: 
    - # ====== Entry: Chart Lines Only =============================
      id: 35557809926840662606
      entry: 
        sequence: 10
        display: Chart Lines Only
        return: LINES

      advanced: 
        quick-pick: false

      help: 
        help-text: Applied to the height of the chart lines only.

    - # ====== Entry: Include Labels ===============================
      id: 35557810459412662607
      entry: 
        sequence: 20
        display: Include Labels
        return: CHART

      advanced: 
        quick-pick: false

      help: 
        help-text: Applies to the total chart including the labels.

  - # ====== Custom Attribute: Y-Axis Value Format Mask ==========
    id: 35557810990279662607
    identification: 
      static-id: attribute_10
      attribute: 10
      name: Y-Axis Value Format Mask
      scope: Component

    layout: 
      sequence: 130

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Custom

    help: 
      help-text: Select the data format mask for the Y-axis.

    entries: 
    - # ====== Entry: 14,435 =======================================
      id: 35557811374457662607
      entry: 
        sequence: 10
        display: 14,435
        return: ',.0f'

      advanced: 
        quick-pick: false

    - # ====== Entry: 14435 ========================================
      id: 35557811856471662608
      entry: 
        sequence: 20
        display: 14435
        return: .0f

      advanced: 
        quick-pick: false

    - # ====== Entry: 14,435.49 ====================================
      id: 35557812335337662608
      entry: 
        sequence: 30
        display: 14,435.49
        return: ',.2f'

      advanced: 
        quick-pick: false

    - # ====== Entry: 14435.49 =====================================
      id: 35557812806841662608
      entry: 
        sequence: 40
        display: 14435.49
        return: .2f

      advanced: 
        quick-pick: false

    - # ====== Entry: 14.4k ========================================
      id: 35557813329754662609
      entry: 
        sequence: 50
        display: 14.4k
        return: .3s

      advanced: 
        quick-pick: false

    - # ====== Entry: $14,435 ======================================
      id: 35557813801193662609
      entry: 
        sequence: 60
        display: $14,435
        return: $,.0f

      advanced: 
        quick-pick: false

    - # ====== Entry: $14435 =======================================
      id: 35557814357264662609
      entry: 
        sequence: 70
        display: $14435
        return: $.0f

      advanced: 
        quick-pick: false

    - # ====== Entry: $14,435.49 ===================================
      id: 35557814887826662610
      entry: 
        sequence: 80
        display: $14,435.49
        return: $,.2f

      advanced: 
        quick-pick: false

    - # ====== Entry: $14435.49 ====================================
      id: 35557815378362662610
      entry: 
        sequence: 90
        display: $14435.49
        return: $.2f

      advanced: 
        quick-pick: false

    - # ====== Entry: $14.4k =======================================
      id: 35557815849543662610
      entry: 
        sequence: 100
        display: $14.4k
        return: $.3s

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Y-Axis Custom Value Format Mask ===
    id: 35557816375337662611
    identification: 
      static-id: attribute_11
      attribute: 11
      name: Y-Axis Custom Value Format Mask
      scope: Component

    layout: 
      sequence: 140

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: FRIENDLY

    condition: 
      depending-on-custom-attribute: Y-Axis Value Format Mask # 35557810990279662607
      depending-on-condition-type: NULL
      always-evaluate: true

    help: 
      help-text: Enter the D3 format string used to format the Y-axis values on axes, tooltips and legends. Use <pre>FRIENDLY</pre> to utilize sensible formatting defaults for your data.

    examples: 
      examples: |
        <ul>
        <li><b>,d</b> = 14,435</li>
        <li><b>d</b> = 14435</li>
        <li><b>,.2f</b> = 14,435.49</li>
        <li><b>.2f</b> = 14435.49</li>
        <li><b>.3s</b> = 14.4k</li>
        <li><b>$,d</b> = $14,435</li>
        <li><b>$d</b> = $14435</li>
        <li><b>$,.2f</b> = $14,435.49</li>
        <li><b>$.2f</b> = $14435.49</li>
        <li><b>$.3s</b> = $14.4k</li>
        <li><b>n" ft."</b> = 14435.49 ft. **</li>
        <li><b>"[["$.3s"]]"</b> = [[$14.4k]] **</li>
        <li>Refer to https://github.com/mbostock/d3/wiki/Formatting#d3_format for the full syntax specification</li>
        </ul>
        <br/>
        ** You may use leading and trailing double-quoted literals, but this feature is not part of the standard D3 specification

  - # ====== Custom Attribute: X-Axis Tick Interval ==============
    id: 35557816707453662611
    identification: 
      static-id: attribute_12
      attribute: 12
      name: X-Axis Tick Interval
      scope: Component

    layout: 
      sequence: 100

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Auto

    condition: 
      depending-on-custom-attribute: X-Axis Data Type # 35557794457936662596
      depending-on-condition-type: in list
      expression: DATE,TIMESTAMP,TIMESTAMP_TZ,TIMESTAMP_LTZ
      always-evaluate: true

    help: 
      help-text: Select the timeframe displayed on the X-axis for date type columns.

    entries: 
    - # ====== Entry: Day ==========================================
      id: 35557817115498662611
      entry: 
        sequence: 40
        display: Day
        return: DAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Week =========================================
      id: 35557817658994662611
      entry: 
        sequence: 50
        display: Week
        return: WEEK

      advanced: 
        quick-pick: false

    - # ====== Entry: Sunday =======================================
      id: 35557818149605662612
      entry: 
        sequence: 60
        display: Sunday
        return: SUNDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Monday =======================================
      id: 35557818622868662612
      entry: 
        sequence: 70
        display: Monday
        return: MONDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Tuesday ======================================
      id: 35557819106038662612
      entry: 
        sequence: 80
        display: Tuesday
        return: TUESDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Wednesday ====================================
      id: 35557819667190662613
      entry: 
        sequence: 90
        display: Wednesday
        return: WEDNESDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Thursday =====================================
      id: 35557820142845662613
      entry: 
        sequence: 100
        display: Thursday
        return: THURSDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Friday =======================================
      id: 35557820656882662613
      entry: 
        sequence: 110
        display: Friday
        return: FRIDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Saturday =====================================
      id: 35557821145622662614
      entry: 
        sequence: 120
        display: Saturday
        return: SATURDAY

      advanced: 
        quick-pick: false

    - # ====== Entry: Month ========================================
      id: 35557821637921662614
      entry: 
        sequence: 130
        display: Month
        return: MONTH

      advanced: 
        quick-pick: false

    - # ====== Entry: Year =========================================
      id: 35557822162143662614
      entry: 
        sequence: 140
        display: Year
        return: YEAR

      advanced: 
        quick-pick: false

    - # ====== Entry: Second =======================================
      id: 35557822654072662615
      entry: 
        sequence: 10
        display: Second
        return: SECOND

      advanced: 
        quick-pick: false

    - # ====== Entry: Minute =======================================
      id: 35557823177645662615
      entry: 
        sequence: 20
        display: Minute
        return: MINUTE

      advanced: 
        quick-pick: false

    - # ====== Entry: Hour =========================================
      id: 35557823655595662615
      entry: 
        sequence: 30
        display: Hour
        return: HOUR

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Color Scheme ======================
    id: 35557824102355662616
    identification: 
      static-id: attribute_13
      attribute: 13
      name: Color Scheme
      scope: Component

    layout: 
      sequence: 190

    settings: 
      type: Select List
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      lov-null-text: Theme Default

    default: 
      value: MODERN

    help: 
      help-text: <p>Select the color scheme used to render the chart.</p>

    entries: 
    - # ====== Entry: Modern =======================================
      id: 35557824521755662616
      entry: 
        sequence: 10
        display: Modern
        return: MODERN

      advanced: 
        quick-pick: false

    - # ====== Entry: Modern 2 =====================================
      id: 35557824996461662616
      entry: 
        sequence: 20
        display: Modern 2
        return: MODERN2

      advanced: 
        quick-pick: false

    - # ====== Entry: Solar ========================================
      id: 35557825516840662617
      entry: 
        sequence: 30
        display: Solar
        return: SOLAR

      advanced: 
        quick-pick: false

    - # ====== Entry: Metro ========================================
      id: 35557826020356662617
      entry: 
        sequence: 40
        display: Metro
        return: METRO

      advanced: 
        quick-pick: false

    - # ====== Entry: SQL Query ====================================
      id: 35557826551099662617
      entry: 
        sequence: 50
        display: SQL Query
        return: COLUMN

      advanced: 
        quick-pick: false

    - # ====== Entry: Custom =======================================
      id: 35557827019525662618
      entry: 
        sequence: 60
        display: Custom
        return: CUSTOM

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Colors ============================
    id: 35557827589143662618
    identification: 
      static-id: attribute_14
      attribute: 14
      name: Colors
      scope: Component

    layout: 
      sequence: 200

    settings: 
      type: Text
      common: false
      show-in-wizard: false
      required: true
      translatable: false

    condition: 
      depending-on-custom-attribute: Color Scheme # 35557824102355662616
      depending-on-condition-type: equal to
      expression: CUSTOM
      always-evaluate: true

    help: 
      help-text: <p>Enter a colon-separated list of color strings for the custom colors to be used in the chart.</p>

    examples: 
      examples: |
        <dl>
          <dt>Hexadecimal (hex) notation</dt><dd><pre>#FF3377</pre>;</dd>
          <dt>RGB color notation  (red,green,blue)</dt><dd><pre>rgba(0,25,47,0.5)</pre>; or </dd>
          <dt>RGBA color notation (red,green,blue,alpha)</dt><dd><pre>rgba(0,25,47,0.5)</pre>; or </dd>
          <dt>HTML colors</dt><dd><pre>blue</pre>.</dd>
        </dl>

  - # ====== Custom Attribute: Tooltip Column ====================
    id: 35557827942355662618
    identification: 
      static-id: attribute_15
      attribute: 15
      name: Tooltip Column
      scope: Component

    layout: 
      sequence: 160

    settings: 
      type: Region SQL Statement Column
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      data-types: 
      - Varchar2

    condition: 
      depending-on-custom-attribute: Tooltips # 35557828296352662618
      depending-on-condition-type: in list
      expression: 'SERIES:X:Y:CUSTOM,SERIES:X:CUSTOM,SERIES:Y:CUSTOM,X:Y:CUSTOM,SERIES:CUSTOM,X:CUSTOM,Y:CUSTOM,CUSTOM'
      always-evaluate: true

    help: 
      help-text: Enter the column from the region SQL Query that holds the custom tooltip values.

  - # ====== Custom Attribute: Tooltips ==========================
    id: 35557828296352662618
    identification: 
      static-id: attribute_16
      attribute: 16
      name: Tooltips
      scope: Component

    layout: 
      sequence: 150

    settings: 
      type: Checkboxes
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false

    help: 
      help-text: |
        <p>Check which attributes are shown on the tooltip for each data point. The 'Custom column' option allows you to specify text for each individual data point as an additional column in the region SQL Query.</p>
        <p>Note: Leave all options unchecked to disable the tooltip.</p>

    entries: 
    - # ====== Entry: Show series name =============================
      id: 35557828783416662619
      entry: 
        sequence: 0
        display: Show series name
        return: SERIES

      advanced: 
        quick-pick: false

    - # ====== Entry: Show X value =================================
      id: 35557829213870662619
      entry: 
        sequence: 10
        display: Show X value
        return: X

      advanced: 
        quick-pick: false

    - # ====== Entry: Show Y value =================================
      id: 35557829705453662619
      entry: 
        sequence: 20
        display: Show Y value
        return: Y

      advanced: 
        quick-pick: false

    - # ====== Entry: Custom column ================================
      id: 35557830220465662620
      entry: 
        sequence: 30
        display: Custom column
        return: CUSTOM

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Minimum Height ====================
    id: 35557830716593662620
    identification: 
      static-id: attribute_17
      attribute: 17
      name: Minimum Height
      scope: Component

    layout: 
      sequence: 240

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      unit: px

    help: 
      help-text: Enter the minimum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Maximum Height ====================
    id: 35557831095665662620
    identification: 
      static-id: attribute_18
      attribute: 18
      name: Maximum Height
      scope: Component

    layout: 
      sequence: 250

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      unit: px

    help: 
      help-text: The maximum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Link Target =======================
    id: 35557831526418662621
    identification: 
      static-id: attribute_19
      attribute: 19
      name: Link Target
      scope: Component

    layout: 
      sequence: 30

    settings: 
      type: Link to Target Page/URL
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    help: 
      help-text: <p>Enter a target page to be called when the user clicks a chart entry.</p>

    examples: 
      examples: |
        <p>Example 1: URL to navigate to page 10 and set P10_EMPNO to the EMPNO value of the clicked entry.
        <pre>f?p=&amp;APP_ID.:10:&amp;APP_SESSION.::&amp;DEBUG.:RP,10:P10_EMPNO:&amp;EMPNO.</pre>
        </p>
        <p>Example 2: Display the EMPNO value of the clicked entry in a JavaScript alert
        <pre>javascript:alert('current empno: &amp;EMPNO.');</pre>
        </p>

  - # ====== Custom Attribute: Display ===========================
    id: 35557831932293662621
    identification: 
      static-id: attribute_20
      attribute: 20
      name: Display
      scope: Component

    layout: 
      sequence: 40

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: OVERLAP

    help: 
      help-text: Select how the line chart data is displayed.

    entries: 
    - # ====== Entry: Overlap ======================================
      id: 35557832305790662621
      entry: 
        sequence: 10
        display: Overlap
        return: OVERLAP

      advanced: 
        quick-pick: true

    - # ====== Entry: Stacked ======================================
      id: 35557832889873662622
      entry: 
        sequence: 20
        display: Stacked
        return: STACKED

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Show Grid Lines ===================
    id: 35557833318602662622
    identification: 
      static-id: attribute_21
      attribute: 21
      name: Show Grid Lines
      scope: Component

    layout: 
      sequence: 180

    settings: 
      type: Checkboxes
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false

    help: 
      help-text: Check the axes to display grid lines for that axis.

    entries: 
    - # ====== Entry: X-Axis =======================================
      id: 35557833744726662622
      entry: 
        sequence: 10
        display: X-Axis
        return: X

      advanced: 
        quick-pick: false

    - # ====== Entry: Y-Axis =======================================
      id: 35557834216576662622
      entry: 
        sequence: 20
        display: Y-Axis
        return: Y

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Color SQL Query ===================
    id: 35557834789844662623
    identification: 
      static-id: attribute_22
      attribute: 22
      name: Color SQL Query
      scope: Component

    layout: 
      sequence: 210

    settings: 
      type: SQL Query
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      minimum-columns: 2
      maximum-columns: 2

    condition: 
      depending-on-custom-attribute: Color Scheme # 35557824102355662616
      depending-on-condition-type: equal to
      expression: COLUMN
      always-evaluate: true

    help: 
      help-text: |
        Enter a SQL Query that maps a series name to an RGB color. The first column must contain the series names (and those values must match the ones returned from the region SQL) and the second column must have the RGB or RGBA color notation for the series. 
        Both columns must be VARCHAR2.

    examples: 
      examples: |
        <pre>select 'SALES', rgb(0,255,0)
        from dual
        UNION
        select 'RESEARCH', rgba(0,25,47,0.5)
        from dual;</pre>

  - # ====== Custom Attribute: Multiple Series Column ============
    id: 35557835099359662623
    identification: 
      static-id: attribute_23
      attribute: 23
      name: Multiple Series Column
      scope: Component

    layout: 
      sequence: 60

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that defines the multiple series for the chart. The values from this column will become the labels for the series.

  - # ====== Custom Attribute: Single Series Name ================
    id: 35557835545755662623
    identification: 
      static-id: attribute_24
      attribute: 24
      name: Single Series Name
      scope: Component

    layout: 
      sequence: 50

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: true
      translatable: true

    condition: 
      depending-on-custom-attribute: Multiple Series Column # 35557835099359662623
      depending-on-condition-type: NULL
      always-evaluate: true

    help: 
      help-text: Enter the name of the single data series which is shown on the legend.

  - # ====== Custom Attribute: Legend ============================
    id: 35557835950843662624
    identification: 
      static-id: attribute_25
      attribute: 25
      name: Legend
      scope: Component

    layout: 
      sequence: 170

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: No Legend

    help: 
      help-text: Select where the legend is displayed on the chart.

    entries: 
    - # ====== Entry: Above chart ==================================
      id: 35557836335609662624
      entry: 
        sequence: 10
        display: Above chart
        return: TOP

      advanced: 
        quick-pick: false

    - # ====== Entry: Below chart ==================================
      id: 35557836891679662624
      entry: 
        sequence: 20
        display: Below chart
        return: BOTTOM

      advanced: 
        quick-pick: false

  events: 
  - # ====== Event: elapsedtimefetched ===========================
    id: 40467208965662321722
    identification: 
      name: Elapsed Time Fetched
      internal-name: elapsedtimefetched

  files: 
  - # ====== File: com.oracle.apex.d3.linechart.js ===============
    id: 40437753631963696421
    identification: 
      file-name: com.oracle.apex.d3.linechart.js

    attributes: 
      mime-type: text/javascript
      file-character-set: Unicode UTF-8

- # ====== Plugin: Mini Calendar ===============================
  id: 37651274803068119559
  identification: 
    name: Mini Calendar
    internal-name: COM.ORACLE.APEX.MINICALENDAR
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      procedure render_mini_calendar( p_region in apex_plugin.t_region ) is
          c_date_col  constant varchar2(255) := p_region.attribute_01;
          c_label_col constant varchar2(255) := p_region.attribute_02;
      
          l_date_col_no  pls_integer;
          l_label_col_no pls_integer;
      
          c_collection constant varchar2(255) := 'APEX$MINICALENDAR$'||rawtohex(sys_guid());
          l_column_value_list    apex_plugin_util.t_column_value_list2;
      
          l_region_source        varchar2(32767) := p_region.source;
      
          --
          l_date  timestamp with local time zone;
          l_label varchar2(2000);
          l_found boolean;
          l_count number;
      
          cursor dt_csr is
              select c001 label, d001 the_date
              from apex_collections
              where collection_name = c_collection
              order by d001 asc;
          dt_rec dt_csr%ROWTYPE;
      
          -- Variables for knowing what to display.
          l_startdate  date;
          l_enddate    date;
          l_daycount   number;
          l_month      varchar2(6);
      
          l_class      varchar2(512) := '';
          l_disp       varchar2(255)  := '';
          l_id         varchar2(512) := p_region.static_id;
      begin
          -- get the data to be displayed
          l_column_value_list := apex_plugin_util.get_data2 (
                                     p_sql_statement  => l_region_source,
                                     p_min_columns    => 2,
                                     p_max_columns    => null,
                                     p_component_name => p_region.name,
                                     p_max_rows       => null );
      
          -- Get the actual column number for the fields we want.
          l_date_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Date column',
                              p_column_alias      => c_date_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => null -- might be date, timestamp, etc.
                          );
      
          l_label_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Label column',
                              p_column_alias      => c_label_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
      
          apex_collection.create_or_truncate_collection( p_collection_name => c_collection );
          -- Loop through the data and shove it into the collection for ease of access.
          for l_row_num in 1..l_column_value_list(1).value_list.count loop
              l_found := true;
              if l_column_value_list(l_date_col_no).value_list(l_row_num).date_value is not null then
                  l_date := l_column_value_list(l_date_col_no).value_list(l_row_num).date_value;
              elsif l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_value is not null then
                  l_date := l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_value;
              elsif l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_tz_value is not null then
                  l_date := l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_tz_value;
              elsif l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_ltz_value is not null then
                  l_date := l_column_value_list(l_date_col_no).value_list(l_row_num).timestamp_ltz_value;
              else
                  -- Couldn't get a usable date value; ignore this row.
                  l_found := false;
              end if;
              if l_found then
                  select count(*) into l_count
                  from apex_collections
                  where collection_name = c_collection
                      and d001 = trunc(l_date);
      
                  if l_count = 0 then
                      l_label := apex_plugin_util.escape(
                                  apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_label_col_no).data_type,
                                      p_value     => l_column_value_list(l_label_col_no).value_list(l_row_num) ),
                                  p_region.escape_output );
                      apex_collection.add_member(
                          p_collection_name => c_collection,
                          p_c001            => l_label,
                          p_d001            => trunc(l_date)
                      );
                  end if;
              end if;
          end loop;
      
          open dt_csr;
          fetch dt_csr into dt_rec;
          if dt_csr%FOUND then
              l_date  := dt_rec.the_date;
              l_label := dt_rec.label;
          else
              l_date  := trunc(localtimestamp);
              l_label := 'Today';
          end if;
      
          -- Print the calendar header.
          sys.htp.prn('<div class="a-MiniCal">');
          sys.htp.prn('<h3 class="a-MiniCal-title">'||to_char(l_date, 'Month')||' '||to_char(l_date,'YYYY')||'</h3>');
          sys.htp.prn('<table class="a-MiniCal-month" summary="Calendar of '||to_char(l_date, 'Month')||' '||to_char(l_date,'YYYY')||'">');
          sys.htp.prn('<thead>');
          sys.htp.prn('<tr>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_SUN" title="Sunday">Su</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_MON" title="Monday">Mo</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_TUE" title="Tuesday">Tu</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_WED" title="Wednesday">We</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_THU" title="Thursday">Th</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_FRI" title="Friday">Fr</th>');
          sys.htp.prn('<th class="a-MiniCal-dayOfWeek" scope="col" id="'||l_id||'_SAT" title="Saturday">Sa</th>');
          sys.htp.prn('</tr>');
          sys.htp.prn('</thead>');
          -- Print the calendar body.
          sys.htp.prn('<tbody>');
          -- Do some quick manipulation to get the day of the week that the first of the month
           --  lands on, and then shift our starting date to the first day of that week.
          l_startdate := trunc(l_date,'MM') - to_char(trunc(l_date,'MM'),'D') + 1;
          l_enddate := last_day(l_date) + 7-to_char(last_day(l_date),'D');
          l_month := to_char(l_date,'YYYYMM');
      
          for l_daycount in 0..(l_enddate - l_startdate) loop
              l_class := '';
              l_disp := to_char(l_startdate+l_daycount,'fmDD');
              -- If the day isn't part of the month being displayed, grey it out.
              if to_char(l_startdate+l_daycount,'YYYYMM') <> l_month then
                  l_class := 'is-null';
                  l_disp := '<span class="a-MiniCal-date">'||l_disp||'</span>';
              else
                  if to_char(l_startdate+l_daycount,'D') in ('1','7') then
                      l_class := l_class || 'is-weekend ';
                      l_disp := '<span class="a-MiniCal-date">'||l_disp||'</span>';
                  end if;
                  if l_month = to_char(localtimestamp,'YYYYMM')
                          and l_startdate+l_daycount = current_date then
                      l_class := l_class || 'is-today ';
                      l_disp := '<span class="a-MiniCal-date">'||l_disp||'</span>';
                  end if;
                  if to_char(l_startdate+l_daycount,'YYYYMMDD')
                          = to_char(l_date,'YYYYMMDD') then
                      l_class := l_class || 'is-active ';
                      l_disp := '<span class="a-MiniCal-date" title="'||l_label||'">'||l_disp||'</span>';
                  end if;
              end if;
              if to_char(l_startdate+l_daycount,'D') = '1' then
                  sys.htp.prn('<tr>');
              end if;
              sys.htp.prn('<td class="a-MiniCal-day '||l_class||'" headers="'||l_id||'_'||to_char(l_startdate+l_daycount,'DY')||'">'||l_disp||'</td>');
              if to_char(l_startdate+l_daycount,'D') = '7' then
                  sys.htp.prn('</tr>');
              end if;
              if to_char(l_startdate+l_daycount,'YYYYMMDD') = to_char(l_date,'YYYYMMDD') then
                  fetch dt_csr into dt_rec;
                  if dt_csr%FOUND then
                      l_date  := dt_rec.the_date;
                      l_label := dt_rec.label;
                  end if;
              end if;
          end loop;
          close dt_csr;
      
          -- Clean up after ourselves.
          apex_collection.delete_collection( p_collection_name => c_collection );
      
          sys.htp.prn('</tbody>');
          sys.htp.prn('</table>');
          sys.htp.prn('</div>');
      end render_mini_calendar;
      
      function render ( p_region in apex_plugin.t_region,
          p_plugin in apex_plugin.t_plugin, p_is_printer_friendly in boolean )
          return apex_plugin.t_region_render_result is
      begin
          -- CSS for the Gantt Chart
          apex_css.add_file (
              p_name => 'com_oracle_apex_minicalendar',
              p_directory => p_plugin.file_prefix );
      
          render_mini_calendar( p_region );
          return null;
      end;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: render

  standard-attributes: 
    attributes: 
    - Region Source is SQL Statement [Deprecated]
    - Has "Escape Special Characters" Region Attribute

  custom-attributes: 
    substitute-attribute-values: true

  information: 
    version: 5.0.1
    help-text: This region plug-in displays a small calendar with the specified date highlighted.

  standard-attributes: 
  - # ====== Standard Attribute: SOURCE_SQL ======================
    id: 22506924637824677016
    identification: 
      name: SOURCE_SQL

    value: 
      required: true

    settings: 
      minimum-columns: 1

    examples: 
      examples: |
        The query must return at least two columns--a date and its label (other columns will be ignored). The calendar will display for the earliest date returned, highlighting all dates returned within that month.
        
        <pre>
        select date_value, label_value
        from ...
        </pre>

  custom-attributes: 
  - # ====== Custom Attribute: Date Column =======================
    id: 37688049098944174403
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Date Column
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Date
      - Timestamp
      - Timestamp with Time Zone
      - Timestamp with Local Time Zone

    help: 
      help-text: Select the column from the region SQL Query which holds the single date value for the calendar.

  - # ====== Custom Attribute: Label Column ======================
    id: 37688049540003174403
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Label Column
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query which holds the label for the calendar.

  files: 
  - # ====== File: com_oracle_apex_minicalendar.css ==============
    id: 37688050513124174404
    identification: 
      file-name: com_oracle_apex_minicalendar.css

    attributes: 
      mime-type: text/css

- # ====== Plugin: D3 Bubble Chart =============================
  id: 37746926760516184512
  identification: 
    name: D3 Bubble Chart
    internal-name: COM.ORACLE.APEX.D3.BUBBLE
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function ora_d3_bubble_ajax (    
          p_region in apex_plugin.t_region,
          p_plugin in apex_plugin.t_plugin 
      )
          return apex_plugin.t_region_ajax_result is
      
          c_label_col     constant varchar2(255) := p_region.attribute_12;
          c_value_col     constant varchar2(255) := p_region.attribute_13;
          c_pk_col        constant varchar2(255) := p_region.attribute_14;
          c_group_col     constant varchar2(255) := p_region.attribute_15;
          c_link_col      constant varchar2(255) := p_region.attribute_16;
          c_desc_col      constant varchar2(255) := p_region.attribute_17;
          c_link_target   constant varchar2(255) := p_region.attribute_18;
          c_tooltip_col   constant varchar2(255) := p_region.attribute_20;
      
          l_label_col_no pls_integer;
          l_value_col_no pls_integer;
          l_pk_col_no    pls_integer;
          l_group_col_no pls_integer;
          l_link_col_no  pls_integer;
          l_desc_col_no  pls_integer;
          l_tooltip_col_no pls_integer;
      
          l_label     varchar2(4000);
          l_value     number;
          l_pk        varchar2(4000);
          l_group     varchar2(4000);
          l_link      varchar2(4000);
          l_desc      varchar2(4000);
          l_tooltip   varchar2(4000);
      
          l_num_rows          pls_integer := p_region.fetched_rows;
          l_count             pls_integer := 0;
          l_column_value_list apex_plugin_util.t_column_value_list2;
      begin
          apex_json.initialize_output (
              p_http_cache => false );
      
          -- get the data to be displayed
          l_column_value_list := apex_plugin_util.get_data2 (
              p_sql_statement  => p_region.source,
              p_min_columns    => 4,
              p_max_columns    => null,
              p_component_name => p_region.name );
      
          -- Get the actual column number for the fields we want.
          l_label_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Label Column',
                              p_column_alias      => c_label_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_value_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Value Column',
                              p_column_alias      => c_value_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_number
                          );
          l_pk_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Primary Key Column',
                              p_column_alias      => c_pk_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_group_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Color Group Column',
                              p_column_alias      => c_group_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
      
          if instr(':' || p_region.attribute_19 || ':', ':CUSTOM:') > 0 then
              l_tooltip_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Tooltip Column',
                              p_column_alias      => c_tooltip_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => false,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          end if;
          -- Loop through the data
          apex_json.open_object;
          apex_json.open_array('row');
          for l_row_num in 1..l_column_value_list(1).value_list.count loop
              if l_count < nvl(l_num_rows,l_count) then
                  l_count := l_count+1;
                  begin
                      -- Assign the column values of the current row
                      -- into session state
                      apex_plugin_util.set_component_values (
                          p_column_value_list => l_column_value_list,
                          p_row_num => l_row_num 
                      );
      
                      apex_json.open_object;
      
                      l_label := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_label_col_no).data_type,
                                      p_value     => l_column_value_list(l_label_col_no).value_list(l_row_num) );
                      l_value := l_column_value_list(l_value_col_no).value_list(l_row_num).number_value;
                      l_pk    := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_pk_col_no).data_type,
                                      p_value     => l_column_value_list(l_pk_col_no).value_list(l_row_num) );
                      l_group := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_group_col_no).data_type,
                                      p_value     => l_column_value_list(l_group_col_no).value_list(l_row_num) );
      
                      -- Emit the optional columns if provided
      
                      -- Tooltip, optional
                      if l_tooltip_col_no is not null then
                          l_tooltip := apex_plugin_util.get_value_as_varchar2 (
                              p_data_type => l_column_value_list(l_tooltip_col_no).data_type,
                              p_value     => l_column_value_list(l_tooltip_col_no).value_list(l_row_num) );
                      end if;
      
                      -- Link Target, optional
                      if c_link_target is not null then
                          l_link := apex_util.prepare_url (
                              apex_plugin_util.replace_substitutions (
                                  p_value  => c_link_target,
                                  p_escape => false ) );
                      end if;
      
                      -- Emit the required columns
                      apex_json.write('ID',        l_pk);
                      apex_json.write('LABEL',     l_label);
                      apex_json.write('COLORVALUE',l_group);
                      apex_json.write('SIZEVALUE', l_value);
                      apex_json.write('TOOLTIP',l_tooltip);
                      apex_json.write('LINK', l_link);
      
                      apex_json.close_object;
      
                      apex_plugin_util.clear_component_values;
                  exception when others then
                      apex_plugin_util.clear_component_values;
                      raise;
                  end;
              end if;
          end loop;
          apex_json.close_all;
      
          return null;
      end ora_d3_bubble_ajax;
      
      function ora_d3_bubble_render ( p_region              in apex_plugin.t_region,
                                      p_plugin              in apex_plugin.t_plugin,
                                      p_is_printer_friendly in boolean  )
                              return apex_plugin.t_region_render_result is
      
          --Advanced Configuration
          l_adv_conf         apex_application_page_regions.attribute_24%type := p_region.attribute_24;
          l_sorting          apex_application_page_regions.attribute_25%type := p_region.attribute_25;
      
          --Color Scheme
          l_colors           apex_application_page_regions.attribute_02%type := p_region.attribute_02;
          l_colors_fg        apex_application_page_regions.attribute_02%type;
      
          --Dimensions
          c_min_height            constant number         := nvl(p_region.attribute_21, 100);
          c_max_height            constant number         := nvl(p_region.attribute_22, 500);
      
          --Aspect Ratios
          c_min_ar                constant number         := apex_plugin_util.get_attribute_as_number(p_plugin.attribute_01, 'Min Aspect Ratio');
          c_max_ar                constant number         := apex_plugin_util.get_attribute_as_number(p_plugin.attribute_02, 'Max Aspect Ratio');
          l_formatted_min_ar      varchar2(200);
          l_formatted_max_ar      varchar2(200);
      
          -- Legend
          c_show_legend           constant boolean        := p_region.attribute_23 is not null;
          c_legend_position       constant varchar2(200)  := p_region.attribute_23;
          
           -- Tooltip configuration
          c_show_tooltip          constant boolean        := p_region.attribute_19 is not null;
          c_series_tooltip        constant boolean        := instr(':' || p_region.attribute_19 || ':', ':SERIES:') > 0;
          c_custom_tooltip        constant boolean        := instr(':' || p_region.attribute_19 || ':', ':CUSTOM:') > 0;
          c_value_tooltip         constant boolean        := instr(':' || p_region.attribute_19 || ':', ':VALUE:')  > 0;
      
      begin
      
          -- Formatting to fix add_attribute bug.
          if c_min_ar > -1 and c_min_ar < 1 and c_min_ar <> 0 then
              l_formatted_min_ar := (case when c_min_ar < 0 then '-' else '' end) || '0' || to_char(abs(c_min_ar));
          else
              l_formatted_min_ar := to_char(c_min_ar);
          end if;
          if c_max_ar > -1 and c_max_ar < 1 and c_max_ar <> 0 then
              l_formatted_max_ar := (case when c_max_ar < 0 then '-' else '' end) || '0' || to_char(abs(c_max_ar));
          else
              l_formatted_max_ar := to_char(c_max_ar);
          end if;
      
          -- Color scheme
          IF l_colors = 'MODERN' THEN
              l_colors    := '#FF3B30:#FF9500:#FFCC00:#4CD964:#34AADC:#007AFF:#5856D6:#FF2D55:#8E8E93:#C7C7CC';
              l_colors_fg := '#000000:#000000:#000000:#000000:#000000:#000000:#FFFFFF:#000000:#000000:#000000';
          ELSIF l_colors = 'MODERN2' THEN
              l_colors    := '#1ABC9C:#2ECC71:#4AA3DF:#9B59B6:#3D566E:#F1C40F:#E67E22:#E74C3C';
              l_colors_fg := '#000000:#000000:#000000:#FFFFFF:#FFFFFF:#000000:#000000:#000000';
          ELSIF l_colors = 'SOLAR' THEN
              l_colors    := '#B58900:#CB4B16:#DC322F:#D33682:#6C71C4:#268BD2:#2AA198:#859900';
              l_colors_fg := '#000000:#FFFFFF:#FFFFFF:#FFFFFF:#000000:#000000:#000000:#000000';
          ELSIF l_colors = 'METRO' then
              l_colors    := '#E61400:#19A2DE:#319A31:#EF9608:#8CBE29:#A500FF:#00AAAD:#FF0094:#9C5100:#E671B5';
              l_colors_fg := '#FFFFFF:#000000:#000000:#000000:#000000:#FFFFFF:#000000:#000000:#FFFFFF:#000000';
          ELSE
              l_colors    := null;
              l_colors_fg := null;
          END IF;
      
          sys.htp.p(
              '<div class="a-D3BubbleChart" id="' || apex_plugin_util.escape(p_region.static_id, true) || '_region">' ||
                  '<div class="a-D3BubbleChart-container" id="' || apex_plugin_util.escape(p_region.static_id, true) ||'_chart"></div>' ||
              '</div>');
          apex_javascript.add_onload_code ('com_oracle_apex_d3_bubble_start('
              ||apex_javascript.add_value(p_region.static_id, true)
              ||apex_javascript.add_value(apex_plugin.get_ajax_identifier, true)
              ||apex_javascript.add_value(l_colors, true)
              ||apex_javascript.add_value(l_colors_fg, true)
              ||apex_javascript.add_value(l_adv_conf, true)
              ||apex_javascript.add_value(l_formatted_min_ar, true)
              ||apex_javascript.add_value(l_formatted_min_ar, true)
              ||apex_javascript.add_value(c_min_height, true)
              ||apex_javascript.add_value(c_max_height, true)
              ||apex_javascript.add_value(apex_plugin_util.page_item_names_to_jquery(p_region.ajax_items_to_submit))
              ||apex_javascript.add_value(c_show_tooltip, true) 
              ||apex_javascript.add_value(c_series_tooltip, true) 
              ||apex_javascript.add_value(c_custom_tooltip, true)
              ||apex_javascript.add_value(c_value_tooltip, true)
              ||apex_javascript.add_value(c_show_legend, true)
              ||apex_javascript.add_value(l_sorting, true) 
              ||apex_javascript.add_value(c_legend_position, false)
              ||');'
          );
          return null;
      end ora_d3_bubble_render;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: ora_d3_bubble_render
    ajax-procedure/function-name: ora_d3_bubble_ajax

  standard-attributes: 
    attributes: 
    - Region Source is SQL Statement [Deprecated]
    - Has "Page Items to Submit" Attribute
    - Has "Number of Fetched Rows" Attribute
    - Has "Escape Special Characters" Region Attribute

  custom-attributes: 
    substitute-attribute-values: false

  files: 
    file-prefix: '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.bubblechart/1.0/'

  css: 
    file-urls: 
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.css'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.css'
    - '#PLUGIN_FILES#d3.oracle.bubblechart.css'
    - null

  javascript: 
    file-urls: 
    - '#IMAGE_PREFIX#libraries/d3/3.5.5/d3.min.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/d3.oracle.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/oracle.jql.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.js'
    - '#PLUGIN_FILES#com.oracle.apex.d3.bubblechart.js'
    - null

  information: 
    version: 5.0.2
    about-url: 'http://apex.oracle.com/plugins'
    help-text: |
      <p>
      	This plugin provides a&nbsp;<em>Bubble Chart</em> based on the <a href="http://www.d3js.org" target="_blank">D3js</a> framework. Bubble charts allow you to visualize values by bubble sizes and colors and provide a good overview on data distribution. This plugin is based on the <a href="http://bl.ocks.org/mbostock/4063269" target="_blank">bubble chart example</a> by the D3js author Mike Bostock.</p>
      <p>
      	Plugin features:</p>
      <ul>
      	<li>
      		Generate a Bubble Chart based on the SQL query in the Region source
      		<ul>
      			<li>
      				Plugin honors the&nbsp;<em>Page Items to Submit&nbsp;</em>attribute</li>
      			<li>
      				Plugin honors the&nbsp;<em>Escape Special Characters&nbsp;</em>attribute (this applies to the &quot;Infobox&quot; which is displayed on Mouseover)<br />
      				&nbsp;</li>
      		</ul>
      	</li>
      	<li>
      		The Plugin is AJAX aware
      		<ul>
      			<li>
      				Honors the&nbsp;<em>apexrefresh</em> event - you can refresh the chart with a Dynamic Action</li>
      			<li>
      				The Plugin provides an&nbsp;<em>Auto Refresh&nbsp;</em>mode</li>
      			<li>
      				Plugin posts events to the APEX Dynamic Action Framework. So you can create dynamic Actions (e.g. to refresh other APEX components) based on the following plugin events.
      				<ul>
      					<li>
      						Bubble Mouseover</li>
      					<li>
      						Bubble Mouseout</li>
      					<li>
      						Bubble Mouse Click</li>
      					<li>
      						Bubble Chart initialized<br />
      						&nbsp;</li>
      				</ul>
      			</li>
      		</ul>
      	</li>
      	<li>
      		CSS and responsive Features
      		<ul>
      			<li>
      				The plugin is responsive and changes its size according to the device&#39;s display size</li>
      			<li>
      				All components (Bubbles, Infoboxes, highlighted bubbles) can be augmented with own CSS classes</li>
      		</ul>
      	</li>
      </ul>

  standard-attributes: 
  - # ====== Standard Attribute: SOURCE_SQL ======================
    id: 22506924961313677017
    identification: 
      name: SOURCE_SQL

    value: 
      required: true

    settings: 
      minimum-columns: 4

    examples: 
      examples: |
        <pre>
        select
          empno as id,         --required
          ename as label,      --required
          job   as colorgrp,    --required
          sal   as bbsize,     --required
          null  as LINK,       --optional
          dname as description --optional
        from emp e
        ,    dept d
        where e.deptno = d.deptno
        </pre>

  custom-attributes: 
  - # ====== Custom Attribute: Minimum Aspect Ratio ==============
    id: 35557601852053657861
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Minimum Aspect Ratio
      scope: Application

    layout: 
      sequence: 510

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      display-width: 5

    default: 
      value: 1.333

    help: 
      help-text: |
        <p>Enter the minimum aspect ratio that charts use to recommend a height. A minimum aspect ratio of 1.333 means that the chart's width should be no less than 1.333 times its height. </p>
        <p>Note: This setting can be overridden by the 'Min Height' setting on the region.</p>

  - # ====== Custom Attribute: Maximum Aspect Ratio ==============
    id: 35557602248677657861
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Maximum Aspect Ratio
      scope: Application

    layout: 
      sequence: 520

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false

    default: 
      value: 3

    help: 
      help-text: |
        <p>Enter the maximum aspect ratio that charts use to recommend a height. A maximum aspect ratio of 3 means that the chart's width should be no greater than 3 times its height. </p>
        <p>Note: This setting can be overridden by the 'Maximum Height' setting on the region.</p>

  - # ====== Custom Attribute: Color Scheme ======================
    id: 35557602596221657861
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Color Scheme
      scope: Component

    layout: 
      sequence: 100

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Theme Default

    default: 
      value: MODERN

    help: 
      help-text: <p>Select the color scheme used to render the chart.</p>

    entries: 
    - # ====== Entry: Modern =======================================
      id: 35557603029758657862
      entry: 
        sequence: 10
        display: Modern
        return: MODERN

      advanced: 
        quick-pick: false

    - # ====== Entry: Modern 2 =====================================
      id: 35557603592490657862
      entry: 
        sequence: 20
        display: Modern 2
        return: MODERN2

      advanced: 
        quick-pick: false

    - # ====== Entry: Solar ========================================
      id: 35557604060911657862
      entry: 
        sequence: 30
        display: Solar
        return: SOLAR

      advanced: 
        quick-pick: false

    - # ====== Entry: Metro ========================================
      id: 35557604577311657863
      entry: 
        sequence: 40
        display: Metro
        return: METRO

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Label Column ======================
    id: 35557605062592657863
    identification: 
      static-id: attribute_12
      attribute: 12
      name: Label Column
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the labels for the bubbles.

  - # ====== Custom Attribute: Value Column ======================
    id: 35557605441226657863
    identification: 
      static-id: attribute_13
      attribute: 13
      name: Value Column
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Number

    help: 
      help-text: Select the column from the region SQL Query that holds the values for the bubles.

  - # ====== Custom Attribute: Primary Key Column ================
    id: 35557605808659657863
    identification: 
      static-id: attribute_14
      attribute: 14
      name: Primary Key Column
      scope: Component

    layout: 
      sequence: 40

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the primary key column.

  - # ====== Custom Attribute: Color Group Column ================
    id: 35557606290275657864
    identification: 
      static-id: attribute_15
      attribute: 15
      name: Color Group Column
      scope: Component

    layout: 
      sequence: 50

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the color group for the bubble.

  - # ====== Custom Attribute: Link Target =======================
    id: 35557606618074657864
    identification: 
      static-id: attribute_18
      attribute: 18
      name: Link Target
      scope: Component

    layout: 
      sequence: 30

    settings: 
      type: Link to Target Page/URL
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    help: 
      help-text: <p>Enter a target page to be called when the user clicks a chart entry.</p>

    examples: 
      examples: |
        <p>Example 1: URL to navigate to page 10 and set P10_EMPNO to the EMPNO value of the clicked entry.
        <pre>f?p=&amp;APP_ID.:10:&amp;APP_SESSION.::&amp;DEBUG.:RP,10:P10_EMPNO:&amp;EMPNO.</pre>
        </p>
        <p>Example 2: Display the EMPNO value of the clicked entry in a JavaScript alert
        <pre>javascript:alert('current empno: &amp;EMPNO.');</pre>
        </p>

  - # ====== Custom Attribute: Tooltips ==========================
    id: 35557607069520657864
    identification: 
      static-id: attribute_19
      attribute: 19
      name: Tooltips
      scope: Component

    layout: 
      sequence: 60

    settings: 
      type: Checkboxes
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false

    help: 
      help-text: |
        <p>Check which attributes are shown on the tooltip for each data point. The 'Custom column' option allows you to specify text for each individual data point as an additional column in the region SQL Query.</p>
        <p>Note: Leave all options unchecked to disable the tooltip.</p>

    entries: 
    - # ====== Entry: Show series name =============================
      id: 35557607454034657865
      entry: 
        sequence: 10
        display: Show series name
        return: SERIES

      advanced: 
        quick-pick: false

    - # ====== Entry: Custom column ================================
      id: 35557607866748657865
      entry: 
        sequence: 20
        display: Custom column
        return: CUSTOM

      advanced: 
        quick-pick: false

    - # ====== Entry: Show Value ===================================
      id: 35557608387449657865
      entry: 
        sequence: 30
        display: Show Value
        return: VALUE

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Tooltip Column ====================
    id: 35557608822551657866
    identification: 
      static-id: attribute_20
      attribute: 20
      name: Tooltip Column
      scope: Component

    layout: 
      sequence: 70

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    condition: 
      depending-on-custom-attribute: Tooltips # 35557607069520657864
      depending-on-condition-type: in list
      expression: 'SERIES:CUSTOM:VALUE,SERIES:CUSTOM,CUSTOM:VALUE,CUSTOM'
      always-evaluate: true

    help: 
      help-text: Enter the column from the region SQL Query that holds the custom tooltip values.

  - # ====== Custom Attribute: Minimum Height ====================
    id: 35557609264642657866
    identification: 
      static-id: attribute_21
      attribute: 21
      name: Minimum Height
      scope: Component

    layout: 
      sequence: 110

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      maximum-length: 5
      unit: px

    help: 
      help-text: Enter the minimum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Maximum Height ====================
    id: 35557609608575657866
    identification: 
      static-id: attribute_22
      attribute: 22
      name: Maximum Height
      scope: Component

    layout: 
      sequence: 120

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      maximum-length: 5
      unit: px

    help: 
      help-text: The maximum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Legend ============================
    id: 35557609995708657866
    identification: 
      static-id: attribute_23
      attribute: 23
      name: Legend
      scope: Component

    layout: 
      sequence: 80

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: No Legend

    help: 
      help-text: Select where the legend is displayed on the chart.

    entries: 
    - # ====== Entry: Above Chart ==================================
      id: 35557610393136657867
      entry: 
        sequence: 10
        display: Above Chart
        return: TOP

      advanced: 
        quick-pick: false

    - # ====== Entry: Below Chart ==================================
      id: 35557610961647657867
      entry: 
        sequence: 20
        display: Below Chart
        return: BOTTOM

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Configuration JSON ================
    id: 35557611418500657867
    identification: 
      static-id: attribute_24
      attribute: 24
      name: Configuration JSON
      scope: Component

    layout: 
      sequence: 130

    settings: 
      type: Textarea
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: |
        {
          "trdur":                       500,
          "bubble_padding":              1.5,
          "opacity_normal":              "0.8",
          "opacity_highlight":           "1.0",
          "circle_highlight_radiusplus": 5 
        }

    help: 
      help-text: |
        This JSON contains some custom attributes for the chart plugin:
        - "trdur": Is the transition duration of the effects of the chart in milliseconds. 
        - "bubble_padding": Spacing between bubbles.
        - "opacity_normal": The regular opacity of the nodes.
        - "opacity_highlight": The opacity when the node is hovered.
        - "circle_highlight_radiusplus": Plus factor to increase the bubble on highlight.

  - # ====== Custom Attribute: Bubble Sorting ====================
    id: 35557611835564657868
    identification: 
      static-id: attribute_25
      attribute: 25
      name: Bubble Sorting
      scope: Component

    layout: 
      sequence: 90

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: D3ASCENDING

    help: 
      help-text: Select how the bubbles are arranged on the chart.

    entries: 
    - # ====== Entry: D3 Ascending =================================
      id: 35557612243862657868
      entry: 
        sequence: 10
        display: D3 Ascending
        return: D3ASCENDING

      advanced: 
        quick-pick: false

      help: 
        help-text: D3 Ascending sorting function.

    - # ====== Entry: D3 Descending ================================
      id: 35557612706786657868
      entry: 
        sequence: 20
        display: D3 Descending
        return: D3DESCENDING

      advanced: 
        quick-pick: false

      help: 
        help-text: D3 Descending sorting function.

    - # ====== Entry: Ascending ====================================
      id: 35557613242495657869
      entry: 
        sequence: 30
        display: Ascending
        return: ASCENDING

      advanced: 
        quick-pick: false

      help: 
        help-text: Sorts bubble from the smallest size on the outside to the biggest in the center.

    - # ====== Entry: Descending ===================================
      id: 35557613742073657869
      entry: 
        sequence: 40
        display: Descending
        return: DESCENDING

      advanced: 
        quick-pick: false

      help: 
        help-text: Sorts bubbles from the biggest size on the outside to the smallest in the center.

  events: 
  - # ====== Event: com_oracle_apex_d3_click =====================
    id: 35557616586598657872
    identification: 
      name: D3Chart_MouseClick
      internal-name: com_oracle_apex_d3_click

  - # ====== Event: com_oracle_apex_d3_initialized ===============
    id: 35557616916872657872
    identification: 
      name: D3Chart_Initialized
      internal-name: com_oracle_apex_d3_initialized

  - # ====== Event: com_oracle_apex_d3_mouseout ==================
    id: 35557617318197657872
    identification: 
      name: D3Chart_MouseOut
      internal-name: com_oracle_apex_d3_mouseout

  - # ====== Event: com_oracle_apex_d3_mouseover =================
    id: 35557617787078657873
    identification: 
      name: D3Chart_MouseOver
      internal-name: com_oracle_apex_d3_mouseover

- # ====== Plugin: D3 Treemap Chart ============================
  id: 37746942299597184527
  identification: 
    name: D3 Treemap Chart
    internal-name: COM.ORACLE.APEX.D3.TREEMAP
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function ora_d3_treemap_ajax (  p_region in apex_plugin.t_region,
                                       p_plugin in apex_plugin.t_plugin )
                              return apex_plugin.t_region_ajax_result is
          c_label_col     constant varchar2(255) := p_region.attribute_12;
          c_value_col     constant varchar2(255) := p_region.attribute_13;
          c_pk_col        constant varchar2(255) := p_region.attribute_14;
          c_parent_col    constant varchar2(255) := p_region.attribute_15;
          c_group_col     constant varchar2(255) := p_region.attribute_16;
          c_link_col      constant varchar2(255) := p_region.attribute_17;
          c_tooltip_col   constant varchar2(255) := p_region.attribute_20;
          c_link_target   constant varchar2(255) := p_region.attribute_24;
      
          l_label_col_no      pls_integer;
          l_value_col_no      pls_integer;
          l_pk_col_no         pls_integer;
          l_parent_col_no     pls_integer;
          l_group_col_no      pls_integer;
          l_link_col_no       pls_integer;
          l_tooltip_col_no    pls_integer;
      
          l_label  varchar2(4000);
          l_value  number;
          l_pk     varchar2(4000);
          l_parent varchar2(4000);
          l_group  varchar2(4000);
          l_link   varchar2(4000);
          l_desc   varchar2(4000);
          l_tooltip   varchar2(4000);
      
          l_num_rows          pls_integer := p_region.fetched_rows;
          l_count             pls_integer := 0;
          l_column_value_list apex_plugin_util.t_column_value_list2;
          l_region_source     varchar2(32767) := p_region.source;
      begin
          -- get the data to be displayed
          l_column_value_list := apex_plugin_util.get_data2 (
                                     p_sql_statement  => l_region_source,
                                     p_min_columns    => 4,
                                     p_max_columns    => null,
                                     p_component_name => p_region.name,
                                     p_max_rows       => null );
      
          -- Get the actual column number for the fields we want.
          l_label_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Label Column',
                              p_column_alias      => c_label_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_value_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Value Column',
                              p_column_alias      => c_value_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_number
                          );
          l_pk_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Primary Key Column',
                              p_column_alias      => c_pk_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_parent_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Parent Key Column',
                              p_column_alias      => c_parent_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => false,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_group_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Color Group Column',
                              p_column_alias      => c_group_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => true,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
          l_tooltip_col_no := apex_plugin_util.get_column_no (
                              p_attribute_label   => 'Tooltip Column',
                              p_column_alias      => c_tooltip_col,
                              p_column_value_list => l_column_value_list,
                              p_is_required       => false,
                              p_data_type         => apex_plugin_util.c_data_type_varchar2
                          );
      
          -- Loop through the data
          apex_json.open_object;
          apex_json.open_array('row');
          for l_row_num in 1..l_column_value_list(1).value_list.count loop
              if l_count < nvl(l_num_rows,l_count) then
                  l_count := l_count+1;
      
                  begin
                      -- Assign the column values of the current row
                      -- into session state
                      apex_plugin_util.set_component_values (
                          p_column_value_list => l_column_value_list,
                          p_row_num           => l_row_num );
      
                      apex_json.open_object;
      
                      l_label  := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_label_col_no).data_type,
                                      p_value     => l_column_value_list(l_label_col_no).value_list(l_row_num) );
                      l_value  := l_column_value_list(l_value_col_no).value_list(l_row_num).number_value;
                      l_pk     := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_pk_col_no).data_type,
                                      p_value     => l_column_value_list(l_pk_col_no).value_list(l_row_num) );
                      l_group  := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_group_col_no).data_type,
                                      p_value     => l_column_value_list(l_group_col_no).value_list(l_row_num) );
      
                      if l_parent_col_no is not null then
                         l_parent := apex_plugin_util.get_value_as_varchar2(
                                      p_data_type => l_column_value_list(l_parent_col_no).data_type,
                                      p_value     => l_column_value_list(l_parent_col_no).value_list(l_row_num) );
                      end if;
      
                      -- Emit the optional columns if provided
      
                      -- Link Target, optional
                      if c_link_target is not null then
                          l_link := apex_util.prepare_url (
                              apex_plugin_util.replace_substitutions (
                                  p_value  => c_link_target,
                                  p_escape => false ) );
                      end if;
      
                      -- Tooltip, optional
                      if l_tooltip_col_no is not null then
                          l_tooltip := apex_plugin_util.get_value_as_varchar2 (
                              p_data_type => l_column_value_list(l_tooltip_col_no).data_type,
                              p_value     => l_column_value_list(l_tooltip_col_no).value_list(l_row_num) );
                      end if;
      
                      -- Emit the required columns
                      apex_json.write('ID',        l_pk);
                      apex_json.write('LABEL',     l_label);
                      apex_json.write('COLORVALUE',l_group);
                      apex_json.write('SIZEVALUE', l_value);
                      apex_json.write('PARENT_ID', l_parent);
                      apex_json.write('LINK', l_link);
                      apex_json.write('TOOLTIP',l_tooltip);
      
                      apex_json.close_object;
      
                      apex_plugin_util.clear_component_values;
                  exception when others then
                      apex_plugin_util.clear_component_values;
                      raise;
                  end;
              end if;
          end loop;
          apex_json.close_all;
      
          return null;
        end ora_d3_treemap_ajax; 
      
       function ora_d3_treemap_render (
            p_region              in apex_plugin.t_region,
            p_plugin              in apex_plugin.t_plugin,
            p_is_printer_friendly in boolean 
        ) return apex_plugin.t_region_render_result is 
      
          --Advanced Configuration
          l_adv_conf         apex_application_page_regions.attribute_25%type := p_region.attribute_25;
      
          --Color Scheme
          l_colors           apex_application_page_regions.attribute_02%type := p_region.attribute_02;
          l_colors_fg        apex_application_page_regions.attribute_02%type;
      
           --Dimensions
          c_min_height            constant number         := nvl(p_region.attribute_21, 100);
          c_max_height            constant number         := nvl(p_region.attribute_22, 500);
      
          --Aspect Ratios
          c_min_ar                constant number         := apex_plugin_util.get_attribute_as_number(p_plugin.attribute_01, 'Min Aspect Ratio');
          c_max_ar                constant number         := apex_plugin_util.get_attribute_as_number(p_plugin.attribute_02, 'Max Aspect Ratio');
          l_formatted_min_ar      varchar2(200);
          l_formatted_max_ar      varchar2(200);
      
          -- Legend
          c_show_legend           constant boolean        := p_region.attribute_23 is not null;
          c_legend_position       constant varchar2(200)  := p_region.attribute_23;
          
           -- Tooltip configuration
          c_show_tooltip          constant boolean        := p_region.attribute_19 is not null;
          c_series_tooltip        constant boolean        := instr(':' || p_region.attribute_19 || ':', ':SERIES:') > 0;
          c_custom_tooltip        constant boolean        := instr(':' || p_region.attribute_19 || ':', ':CUSTOM:') > 0;
          c_value_tooltip         constant boolean        := instr(':' || p_region.attribute_19 || ':', ':VALUE:') > 0;
      
        begin
      
          -- Formatting to fix add_attribute bug.
          if c_min_ar > -1 and c_min_ar < 1 and c_min_ar <> 0 then
              l_formatted_min_ar := (case when c_min_ar < 0 then '-' else '' end) || '0' || to_char(abs(c_min_ar));
          else
              l_formatted_min_ar := to_char(c_min_ar);
          end if;
          if c_max_ar > -1 and c_max_ar < 1 and c_max_ar <> 0 then
              l_formatted_max_ar := (case when c_max_ar < 0 then '-' else '' end) || '0' || to_char(abs(c_max_ar));
          else
              l_formatted_max_ar := to_char(c_max_ar);
          end if;
      
          -- Color scheme
          IF l_colors = 'MODERN' THEN
              l_colors    := '#FF3B30:#FF9500:#FFCC00:#4CD964:#34AADC:#007AFF:#5856D6:#FF2D55:#8E8E93:#C7C7CC';
              l_colors_fg := '#000000:#000000:#000000:#000000:#000000:#000000:#FFFFFF:#000000:#000000:#000000';
          ELSIF l_colors = 'MODERN2' THEN
              l_colors    := '#1ABC9C:#2ECC71:#4AA3DF:#9B59B6:#3D566E:#F1C40F:#E67E22:#E74C3C';
              l_colors_fg := '#000000:#000000:#000000:#FFFFFF:#FFFFFF:#000000:#000000:#000000';
          ELSIF l_colors = 'SOLAR' THEN
              l_colors    := '#B58900:#CB4B16:#DC322F:#D33682:#6C71C4:#268BD2:#2AA198:#859900';
              l_colors_fg := '#000000:#FFFFFF:#FFFFFF:#FFFFFF:#000000:#000000:#000000:#000000';
          ELSIF l_colors = 'METRO' then
              l_colors    := '#E61400:#19A2DE:#319A31:#EF9608:#8CBE29:#A500FF:#00AAAD:#FF0094:#9C5100:#E671B5';
              l_colors_fg := '#FFFFFF:#000000:#000000:#000000:#000000:#FFFFFF:#000000:#000000:#FFFFFF:#000000';
          ELSE
              l_colors    := null;
              l_colors_fg := null;
          END IF;
      
          sys.htp.p(
              '<div class="a-D3TreemapChart" id="' || apex_plugin_util.escape(p_region.static_id, true) || '_region">' ||
                  '<div class="a-D3TreemapChart-container" id="' || apex_plugin_util.escape(p_region.static_id, true) ||'_chart"></div>' ||
              '</div>');
          apex_javascript.add_onload_code (
            'com_oracle_apex_d3_treemap_start('
              ||apex_javascript.add_value(p_region.static_id, true)
              ||apex_javascript.add_value(apex_plugin.get_ajax_identifier, true)
              ||apex_javascript.add_value(l_colors, true)
              ||apex_javascript.add_value(l_colors_fg, true)
              ||apex_javascript.add_value(l_adv_conf, true)
              ||apex_javascript.add_value(l_formatted_min_ar, true)
              ||apex_javascript.add_value(l_formatted_min_ar, true)
              ||apex_javascript.add_value(c_min_height, true)
              ||apex_javascript.add_value(c_max_height, true)
              ||apex_javascript.add_value(apex_plugin_util.page_item_names_to_jquery(p_region.ajax_items_to_submit))
              ||apex_javascript.add_value(c_show_tooltip, true) 
              ||apex_javascript.add_value(c_series_tooltip, true) 
              ||apex_javascript.add_value(c_custom_tooltip, true)
              ||apex_javascript.add_value(c_value_tooltip, true)
              ||apex_javascript.add_value(c_show_legend, true) 
              ||apex_javascript.add_value(c_legend_position, false)
              ||');'
          );
          return null;
        end ora_d3_treemap_render;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: ora_d3_treemap_render
    ajax-procedure/function-name: ora_d3_treemap_ajax

  standard-attributes: 
    attributes: 
    - Region Source is SQL Statement [Deprecated]
    - Has "Page Items to Submit" Attribute
    - Has "Number of Fetched Rows" Attribute
    - Has "Escape Special Characters" Region Attribute

  custom-attributes: 
    substitute-attribute-values: false

  files: 
    file-prefix: '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.treemapchart/1.0/'

  css: 
    file-urls: 
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.css'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.css'
    - '#PLUGIN_FILES#d3.oracle.treemapchart.css'

  javascript: 
    file-urls: 
    - '#IMAGE_PREFIX#libraries/d3/3.5.5/d3.min.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/d3.oracle.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3/oracle.jql.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.tooltip/d3.oracle.tooltip.js'
    - '#IMAGE_PREFIX#plugins/com.oracle.apex.d3.ary/d3.oracle.ary.js'
    - '#PLUGIN_FILES#com.oracle.apex.d3.treemapchart.js'

  information: 
    version: 5.0.2
    about-url: 'http://apex.oracle.com/plugins'
    help-text: |
      <p>
      	This plugin provides a&nbsp;<em>Treemap Chart</em> based on the <a href="http://www.d3js.org" target="_blank">D3js</a> framework. Treemap charts allow to visualize two values by area sizes and colors and provide a good overview on data distribution. This plugin is based on the <a href="http://bl.ocks.org/mbostock/4063582">treemap chart example</a>&nbsp;by the D3js author Mike Bostock.</p>
      <p>
      	Plugin features:</p>
      <ul>
      	<li>
      		Generate a Treemap Chart based on the SQL query in the Region source
      		<ul>
      			<li>
      				The data hierarchy (columns ID and PARENT_ID) is being detected automatically; if PARENT_ID is<br />
      				missing or if it contains nonexistent values, the nodes are being considered as root nodes.</li>
      			<li>
      				Plugin honors the&nbsp;<em>Page Items to Submit&nbsp;</em>attribute</li>
      			<li>
      				Plugin honors the&nbsp;<em>Escape Special Characters&nbsp;</em>attribute (this applies to the &quot;Infobox&quot; which is displayed on Mouseover)</li>
      		</ul>
      	</li>
      	<li>
      		The Plugin is AJAX aware
      		<ul>
      			<li>
      				Honors the&nbsp;<em>apexrefresh</em> event - you can refresh the chart with a Dynamic Action</li>
      			<li>
      				The Plugin provides an&nbsp;<em>Auto Refresh&nbsp;</em>mode</li>
      			<li>
      				Plugin posts events to the APEX Dynamic Action Framework. So you can create dynamic Actions (e.g. to refresh other APEX components) based on the following plugin events.
      				<ul>
      					<li>
      						Mouseover</li>
      					<li>
      						Mouseout</li>
      					<li>
      						Mouse Click</li>
      					<li>
      						Chart initialized<br />
      						&nbsp;</li>
      				</ul>
      			</li>
      		</ul>
      	</li>
      	<li>
      		CSS and responsive Features
      		<ul>
      			<li>
      				The plugin is responsive and changes its size according to the device&#39;s display size</li>
      			<li>
      				All components (Areas, Infoboxes, highlighted areas) can be augmented with own CSS classes</li>
      		</ul>
      	</li>
      </ul>

  standard-attributes: 
  - # ====== Standard Attribute: SOURCE_SQL ======================
    id: 22506924857212677017
    identification: 
      name: SOURCE_SQL

    value: 
      required: true

    settings: 
      minimum-columns: 4

    examples: 
      examples: |
        <p>You can provide either a SQL query or a PL/SQL block returning a SQL query. For a PL/SQL block, make sure that the very first word is either "begin" or "declare" and place comments afterwards.
        </p>
        <h1>SQL Example</h1>
        <pre>
        select
          empno as ID,              --required
          job   as COLORVALUE,      --required
          sal   as SIZEVALUE,       --required
          mgr   as PARENT_ID,       --optional
          ename as LABEL,           --required
          null  as LINK,            --optional
          dname  as INFOSTRING       --optional
        from emp e
        ,    dept d
        where e.deptno = d.deptno
        </pre>
        

  custom-attributes: 
  - # ====== Custom Attribute: Minimum Aspect Ratio ==============
    id: 35558068049194696904
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Minimum Aspect Ratio
      scope: Application

    layout: 
      sequence: 510

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      display-width: 5

    default: 
      value: 1.33

    help: 
      help-text: |
        <p>Enter the minimum aspect ratio that charts use to recommend a height. A minimum aspect ratio of 1.333 means that the chart's width should be no less than 1.333 times its height. </p>
        <p>Note: This setting can be overridden by the 'Min Height' setting on the region.</p>

  - # ====== Custom Attribute: Maximum Aspect Ratio ==============
    id: 35558068452292696904
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Maximum Aspect Ratio
      scope: Application

    layout: 
      sequence: 520

    settings: 
      type: Number
      common: false
      show-in-wizard: false
      required: true
      translatable: false

    default: 
      value: 3

    help: 
      help-text: |
        <p>Enter the maximum aspect ratio that charts use to recommend a height. A maximum aspect ratio of 3 means that the chart's width should be no greater than 3 times its height. </p>
        <p>Note: This setting can be overridden by the 'Maximum Height' setting on the region.</p>

  - # ====== Custom Attribute: Color Scheme ======================
    id: 35558068835537696904
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Color Scheme
      scope: Component

    layout: 
      sequence: 100

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: Theme Default

    help: 
      help-text: <p>Select the color scheme used to render the chart.</p>

    entries: 
    - # ====== Entry: Modern =======================================
      id: 35558069219179696905
      entry: 
        sequence: 60
        display: Modern
        return: MODERN

      advanced: 
        quick-pick: false

    - # ====== Entry: Modern 2 =====================================
      id: 35558069785252696905
      entry: 
        sequence: 70
        display: Modern 2
        return: MODERN2

      advanced: 
        quick-pick: false

    - # ====== Entry: Solar ========================================
      id: 35558070263007696905
      entry: 
        sequence: 80
        display: Solar
        return: SOLAR

      advanced: 
        quick-pick: false

    - # ====== Entry: Metro ========================================
      id: 35558070728206696905
      entry: 
        sequence: 90
        display: Metro
        return: METRO

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Label Column ======================
    id: 35558071260357696906
    identification: 
      static-id: attribute_12
      attribute: 12
      name: Label Column
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the labels for the chart.

  - # ====== Custom Attribute: Value Column ======================
    id: 35558071666283696906
    identification: 
      static-id: attribute_13
      attribute: 13
      name: Value Column
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Number

    help: 
      help-text: Select the column from the region SQL Query that holds the labels for the chart.

  - # ====== Custom Attribute: Primary Key Column ================
    id: 35558072056280696906
    identification: 
      static-id: attribute_14
      attribute: 14
      name: Primary Key Column
      scope: Component

    layout: 
      sequence: 40

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the primary key values for the chart. The primary key and parent key columns are used to define the hierarchy for the chart.

  - # ====== Custom Attribute: Parent Key Column =================
    id: 35558072394046696907
    identification: 
      static-id: attribute_15
      attribute: 15
      name: Parent Key Column
      scope: Component

    layout: 
      sequence: 50

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the parent key values for the chart. The primary key and parent key columns are used to define the hierarchy for the chart.

  - # ====== Custom Attribute: Color Group Column ================
    id: 35558072809279696907
    identification: 
      static-id: attribute_16
      attribute: 16
      name: Color Group Column
      scope: Component

    layout: 
      sequence: 60

    settings: 
      type: Region SQL Statement Column
      common: true
      show-in-wizard: true
      required: true
      translatable: false
      data-types: 
      - Varchar2

    help: 
      help-text: Select the column from the region SQL Query that holds the color group values for the chart.

  - # ====== Custom Attribute: Tooltips ==========================
    id: 35558073235690696907
    identification: 
      static-id: attribute_19
      attribute: 19
      name: Tooltips
      scope: Component

    layout: 
      sequence: 70

    settings: 
      type: Checkboxes
      lov-type: Static
      common: false
      show-in-wizard: false
      required: false
      translatable: false

    help: 
      help-text: |
        <p>Check which attributes are shown on the tooltip for each data point. The 'Custom column' option allows you to specify text for each individual data point as an additional column in the region SQL Query.</p>
        <p>Note: Leave all options unchecked to disable the tooltip.</p>

    entries: 
    - # ====== Entry: Show series name =============================
      id: 35558073626369696908
      entry: 
        sequence: 10
        display: Show series name
        return: SERIES

      advanced: 
        quick-pick: false

    - # ====== Entry: Custom column ================================
      id: 35558074175091696908
      entry: 
        sequence: 20
        display: Custom column
        return: CUSTOM

      advanced: 
        quick-pick: false

    - # ====== Entry: Show Value ===================================
      id: 35558074620252696908
      entry: 
        sequence: 30
        display: Show Value
        return: VALUE

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Tooltip Column ====================
    id: 35558075094226696909
    identification: 
      static-id: attribute_20
      attribute: 20
      name: Tooltip Column
      scope: Component

    layout: 
      sequence: 80

    settings: 
      type: Region SQL Statement Column
      common: false
      show-in-wizard: false
      required: true
      translatable: false
      data-types: 
      - Varchar2

    condition: 
      depending-on-custom-attribute: Tooltips # 35558073235690696907
      depending-on-condition-type: in list
      expression: 'SERIES:CUSTOM:VALUE,SERIES:CUSTOM,CUSTOM:VALUE,CUSTOM'
      always-evaluate: true

    help: 
      help-text: Select the column from the region SQL Query that holds the tooltip values for the chart.

  - # ====== Custom Attribute: Minimum Height ====================
    id: 35558075522199696909
    identification: 
      static-id: attribute_21
      attribute: 21
      name: Minimum Height
      scope: Component

    layout: 
      sequence: 110

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      maximum-length: 5
      unit: px

    help: 
      help-text: Enter the minimum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Maximum Height ====================
    id: 35558075959992696909
    identification: 
      static-id: attribute_22
      attribute: 22
      name: Maximum Height
      scope: Component

    layout: 
      sequence: 120

    settings: 
      type: Integer
      common: false
      show-in-wizard: false
      required: false
      translatable: false
      display-width: 5
      maximum-length: 5
      unit: px

    help: 
      help-text: Enter the maximum height, in pixels, of the chart. Chart width will adapt to the size of the region.

  - # ====== Custom Attribute: Legend ============================
    id: 35558076389987696909
    identification: 
      static-id: attribute_23
      attribute: 23
      name: Legend
      scope: Component

    layout: 
      sequence: 90

    settings: 
      type: Select List
      lov-type: Static
      common: true
      show-in-wizard: true
      required: false
      translatable: false
      lov-null-text: No Legend

    help: 
      help-text: Select where the legend is displayed on the chart.

    entries: 
    - # ====== Entry: Above Chart ==================================
      id: 35558076730154696910
      entry: 
        sequence: 10
        display: Above Chart
        return: TOP

      advanced: 
        quick-pick: false

    - # ====== Entry: Below Chart ==================================
      id: 35558077227726696910
      entry: 
        sequence: 20
        display: Below Chart
        return: BOTTOM

      advanced: 
        quick-pick: false

  - # ====== Custom Attribute: Link Target =======================
    id: 35558077718974696910
    identification: 
      static-id: attribute_24
      attribute: 24
      name: Link Target
      scope: Component

    layout: 
      sequence: 30

    settings: 
      type: Link to Target Page/URL
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    help: 
      help-text: <p>Enter a target page to be called when the user clicks a chart entry.</p>

    examples: 
      examples: |
        <p>Example 1: URL to navigate to page 10 and set P10_EMPNO to the EMPNO value of the clicked entry.
        <pre>f?p=&amp;APP_ID.:10:&amp;APP_SESSION.::&amp;DEBUG.:RP,10:P10_EMPNO:&amp;EMPNO.</pre>
        </p>
        <p>Example 2: Display the EMPNO value of the clicked entry in a JavaScript alert
        <pre>javascript:alert('current empno: &amp;EMPNO.');</pre>
        </p>

  - # ====== Custom Attribute: Configuration JSON ================
    id: 35558078117692696911
    identification: 
      static-id: attribute_25
      attribute: 25
      name: Configuration JSON
      scope: Component

    layout: 
      sequence: 130

    settings: 
      type: Textarea
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    default: 
      value: |
        {
        "trdur":                       500,
        "opacity_normal":              "0.8",
        "opacity_highlight":           "1.0"
        }

    help: 
      help-text: |
        This JSON contains some custom attributes for the chart plugin:
        -"trdur": Is the transition duration of the effects of the chart in milliseconds. 
        -"opacity_normal": The regular opacity of the nodes.
        -"opacity_highlight": The opacity when the node is hovered.

  events: 
  - # ====== Event: com_oracle_apex_d3_click =====================
    id: 35558080553865696914
    identification: 
      name: D3Chart_MouseClick
      internal-name: com_oracle_apex_d3_click

  - # ====== Event: com_oracle_apex_d3_initialized ===============
    id: 35558080926616696914
    identification: 
      name: D3Chart_Initialized
      internal-name: com_oracle_apex_d3_initialized

  - # ====== Event: com_oracle_apex_d3_mouseout ==================
    id: 35558081390206696914
    identification: 
      name: D3Chart_MouseOut
      internal-name: com_oracle_apex_d3_mouseout

  - # ====== Event: com_oracle_apex_d3_mouseover =================
    id: 35558081772491696914
    identification: 
      name: D3Chart_MouseOver
      internal-name: com_oracle_apex_d3_mouseover

- # ====== Plugin: Source Display ==============================
  id: 40214600732432323378
  identification: 
    name: Source Display
    internal-name: COM.ORACLE.APEX.DISPLAY_SOURCE
    type: Region

  advanced: 
    quick-pick: false

  subscription: 
    version-number: 37167692709816

  source: 
    pl/sql-code: |
      function render (
              p_region              in apex_plugin.t_region,
              p_plugin              in apex_plugin.t_plugin,
              p_is_printer_friendly in boolean )
          return apex_plugin.t_region_render_result
      is
          -- It's better to have named variables instead of using the generic ones,
          -- makes the code more readable. We are using the same defaults for the
          -- required attributes as in the plug-in attribute configuration, because
          -- they can still be null. Keep them in sync!
          c_region_static_id    constant varchar2(255) := p_region.attribute_01;
          c_highlight_page_item constant varchar2(255) := p_region.attribute_02;
      
          l_highlight_term varchar2(4000) := '';
      
          cursor sql_csr( d_region_static_id in varchar2 ) is
              select source_type, 10 seq, null series_name, region_source source
              from apex_application_page_regions
              where application_id = :APP_ID
                  and page_id = :APP_PAGE_ID
                  and static_id = d_region_static_id
                  and ( source_type_code like 'PLUGIN%'
                      or source_type_code like 'STATIC_TEXT%'
                      or source_type in (
                          'Calendar',
                          'Easy Calendar',
                          'Interactive Report',
                          'List View',
                          'Report',
                          'PL/SQL',
                          'Tabular Form'
                      )
                  )
              union all
              select reg.source_type, fs.series_seq, fs.series_name, fs.series_query source
              from apex_application_page_regions reg,
                  apex_application_page_flash5_s fs
              where reg.application_id = :APP_ID
                  and reg.page_id = :APP_PAGE_ID
                  and reg.static_id = d_region_static_id
                  and fs.application_id = reg.application_id
                  and fs.page_id = reg.page_id
                  and fs.region_id = reg.region_id
                  and reg.source_type in (
                      'Flash Chart',
                      'Map'
                  )
              union all
              select reg.source_type, 10 seq, null series_name, to_clob(tr.tree_query) source
              from apex_application_page_regions reg,
                  apex_application_page_trees tr
              where reg.application_id = :APP_ID
                  and reg.page_id = :APP_PAGE_ID
                  and reg.static_id = d_region_static_id
                  and tr.application_id = reg.application_id
                  and tr.page_id = reg.page_id
                  and tr.region_id = reg.region_id
                  and reg.source_type in ('JavaScript Tree')
              union all
              select reg.source_type, 10 seq, null series_name, to_clob(list_query) source
              from apex_application_page_regions reg,
                  apex_application_lists li
              where reg.application_id = :APP_ID
                  and reg.page_id = :APP_PAGE_ID
                  and reg.static_id = d_region_static_id
                  and li.application_id = reg.application_id
                  and li.list_id = reg.list_id
                  and reg.source_type in ( 'List' )
              order by 1, 2;
          sql_rec sql_csr%ROWTYPE;
      begin
          if c_highlight_page_item is not null then
              l_highlight_term := apex_escape.html(trim(lower(v(c_highlight_page_item))));
          end if;
      
          for sql_rec in sql_csr( c_region_static_id ) loop
              if sql_rec.series_name is not null then
                  sys.htp.p('<p><strong>'||apex_escape.html(sql_rec.series_name)||':</strong></p>');
              end if;
              sys.htp.p('<pre>');
              if l_highlight_term is not null then
                  sys.htp.p(replace(apex_escape.html(sql_rec.source),
                      l_highlight_term,'<span class="highlight">'||l_highlight_term||'</span>'));
              else
                  sys.htp.p(apex_escape.html(sql_rec.source));
              end if;
              sys.htp.p('</pre>');
          end loop;
      
          return null;
      end render;

  callbacks: 
    api-interface: Function
    render-procedure/function-name: render

  custom-attributes: 
    substitute-attribute-values: true

  information: 
    version: 5.0.1
    help-text: This region plug-in is used to display the SQL Source region of an accompanying region.

  custom-attributes: 
  - # ====== Custom Attribute: Region Static ID ==================
    id: 40214600968459323387
    identification: 
      static-id: attribute_01
      attribute: 1
      name: Region Static ID
      scope: Component

    layout: 
      sequence: 10

    settings: 
      type: Text
      common: true
      show-in-wizard: true
      required: true
      translatable: false

    help: 
      help-text: Enter the static ID as defined in the target region's attributes section.

  - # ====== Custom Attribute: Highlight Term Page Item ==========
    id: 40214601299228323390
    identification: 
      static-id: attribute_02
      attribute: 2
      name: Highlight Term Page Item
      scope: Component

    layout: 
      sequence: 20

    settings: 
      type: Page Item
      common: true
      show-in-wizard: true
      required: false
      translatable: false

    help: 
      help-text: If you wish to have a term in your region source highlighted, create a page item and select it here.

